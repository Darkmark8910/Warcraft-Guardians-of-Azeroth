set_cannot_marry_flag_effect = {
	add_trait = cannot_marry_trait
	if = {
		limit = {
			is_ruler = yes
			OR = {
				is_feudal = yes
				is_tribal = yes
				is_nomadic = yes
			}
			tier = BARON
		}
		set_government_type = theocracy_government
	}
}
# Add class traits
add_class_trait_effect = {
	remove_class_trait_effect = yes
	if = {
		limit = { check_variable = { which = wc_experience_mage value = 1 } }
		if = {
			limit = {
				check_variable = { which = wc_experience_mage value = 1 }
				NOT = { check_variable = { which = wc_experience_mage value = 2 } }
			}
			add_trait = class_mage_1
		}
		if = {
			limit = {
				check_variable = { which = wc_experience_mage value = 2 }
				NOT = { check_variable = { which = wc_experience_mage value = 3 } }
			}
			add_trait = class_mage_2
		}
		if = {
			limit = {
				check_variable = { which = wc_experience_mage value = 3 }
				NOT = { check_variable = { which = wc_experience_mage value = 4 } }
			}
			add_trait = class_mage_3
		}
		if = {
			limit = {
				check_variable = { which = wc_experience_mage value = 4 }
				NOT = { check_variable = { which = wc_experience_mage value = 5 } }
			}
			add_trait = class_mage_4
		}
		if = {
			limit = {
				check_variable = { which = wc_experience_mage value = 5 }
				NOT = { check_variable = { which = wc_experience_mage value = 6 } }
			}
			add_trait = class_mage_5
		}
		if = {
			limit = {
				check_variable = { which = wc_experience_mage value = 6 }
				NOT = { check_variable = { which = wc_experience_mage value = 7 } }
			}
			add_trait = class_mage_6
		}
		if = {
			limit = {
				check_variable = { which = wc_experience_mage value = 7 }
				NOT = { check_variable = { which = wc_experience_mage value = 8 } }
			}
			add_trait = class_mage_7
		}
		if = {
			limit = {
				check_variable = { which = wc_experience_mage value = 8 }
				NOT = { check_variable = { which = wc_experience_mage value = 9 } }
			}
			add_trait = class_mage_8
		}
		if = {
			limit = {
				check_variable = { which = wc_experience_mage value = 9 }
				NOT = { check_variable = { which = wc_experience_mage value = 10 } }
			}
			add_trait = class_mage_9
		}
		if = {
			limit = {
				check_variable = { which = wc_experience_mage value = 10 }
			}
			add_trait = class_mage_10
		}
	}
	if = {
		limit = { check_variable = { which = wc_experience_hunter value = 1 } }
		if = {
			limit = {
				check_variable = { which = wc_experience_hunter value = 1 }
				NOT = { check_variable = { which = wc_experience_hunter value = 2 } }
			}
			add_trait = class_hunter_1
		}
		if = {
			limit = {
				check_variable = { which = wc_experience_hunter value = 2 }
				NOT = { check_variable = { which = wc_experience_hunter value = 3 } }
			}
			add_trait = class_hunter_2
		}
		if = {
			limit = {
				check_variable = { which = wc_experience_hunter value = 3 }
				NOT = { check_variable = { which = wc_experience_hunter value = 4 } }
			}
			add_trait = class_hunter_3
		}
		if = {
			limit = {
				check_variable = { which = wc_experience_hunter value = 4 }
				NOT = { check_variable = { which = wc_experience_hunter value = 5 } }
			}
			add_trait = class_hunter_4
		}
		if = {
			limit = {
				check_variable = { which = wc_experience_hunter value = 5 }
				NOT = { check_variable = { which = wc_experience_hunter value = 6 } }
			}
			add_trait = class_hunter_5
		}
		if = {
			limit = {
				check_variable = { which = wc_experience_hunter value = 6 }
				NOT = { check_variable = { which = wc_experience_hunter value = 7 } }
			}
			add_trait = class_hunter_6
		}
		if = {
			limit = {
				check_variable = { which = wc_experience_hunter value = 7 }
				NOT = { check_variable = { which = wc_experience_hunter value = 8 } }
			}
			add_trait = class_hunter_7
		}
		if = {
			limit = {
				check_variable = { which = wc_experience_hunter value = 8 }
				NOT = { check_variable = { which = wc_experience_hunter value = 9 } }
			}
			add_trait = class_hunter_8
		}
		if = {
			limit = {
				check_variable = { which = wc_experience_hunter value = 9 }
				NOT = { check_variable = { which = wc_experience_hunter value = 10 } }
			}
			add_trait = class_hunter_9
		}
		if = {
			limit = {
				check_variable = { which = wc_experience_hunter value = 10 }
			}
			add_trait = class_hunter_10
		}
	}
	if = {
		limit = { check_variable = { which = wc_experience_warrior value = 1 } }
		if = {
			limit = {
				check_variable = { which = wc_experience_warrior value = 1 }
				NOT = { check_variable = { which = wc_experience_warrior value = 2 } }
			}
			add_trait = class_warrior_1
		}
		if = {
			limit = {
				check_variable = { which = wc_experience_warrior value = 2 }
				NOT = { check_variable = { which = wc_experience_warrior value = 3 } }
			}
			add_trait = class_warrior_2
		}
		if = {
			limit = {
				check_variable = { which = wc_experience_warrior value = 3 }
				NOT = { check_variable = { which = wc_experience_warrior value = 4 } }
			}
			add_trait = class_warrior_3
		}
		if = {
			limit = {
				check_variable = { which = wc_experience_warrior value = 4 }
				NOT = { check_variable = { which = wc_experience_warrior value = 5 } }
			}
			add_trait = class_warrior_4
		}
		if = {
			limit = {
				check_variable = { which = wc_experience_warrior value = 5 }
				NOT = { check_variable = { which = wc_experience_warrior value = 6 } }
			}
			add_trait = class_warrior_5
		}
		if = {
			limit = {
				check_variable = { which = wc_experience_warrior value = 6 }
				NOT = { check_variable = { which = wc_experience_warrior value = 7 } }
			}
			add_trait = class_warrior_6
		}
		if = {
			limit = {
				check_variable = { which = wc_experience_warrior value = 7 }
				NOT = { check_variable = { which = wc_experience_warrior value = 8 } }
			}
			add_trait = class_warrior_7
		}
		if = {
			limit = {
				check_variable = { which = wc_experience_warrior value = 8 }
				NOT = { check_variable = { which = wc_experience_warrior value = 9 } }
			}
			add_trait = class_warrior_8
		}
		if = {
			limit = {
				check_variable = { which = wc_experience_warrior value = 9 }
				NOT = { check_variable = { which = wc_experience_warrior value = 10 } }
			}
			add_trait = class_warrior_9
		}
		if = {
			limit = {
				check_variable = { which = wc_experience_warrior value = 10 }
			}
			add_trait = class_warrior_10
		}
	}
	if = {
		limit = { check_variable = { which = wc_experience_paladin value = 1 } }
		if = {
			limit = {
				check_variable = { which = wc_experience_paladin value = 1 }
				NOT = { check_variable = { which = wc_experience_paladin value = 2 } }
			}
			add_trait = class_paladin_1
		}
		if = {
			limit = {
				check_variable = { which = wc_experience_paladin value = 2 }
				NOT = { check_variable = { which = wc_experience_paladin value = 3 } }
			}
			add_trait = class_paladin_2
		}
		if = {
			limit = {
				check_variable = { which = wc_experience_paladin value = 3 }
				NOT = { check_variable = { which = wc_experience_paladin value = 4 } }
			}
			add_trait = class_paladin_3
		}
		if = {
			limit = {
				check_variable = { which = wc_experience_paladin value = 4 }
				NOT = { check_variable = { which = wc_experience_paladin value = 5 } }
			}
			add_trait = class_paladin_4
		}
		if = {
			limit = {
				check_variable = { which = wc_experience_paladin value = 5 }
				NOT = { check_variable = { which = wc_experience_paladin value = 6 } }
			}
			add_trait = class_paladin_5
		}
		if = {
			limit = {
				check_variable = { which = wc_experience_paladin value = 6 }
				NOT = { check_variable = { which = wc_experience_paladin value = 7 } }
			}
			add_trait = class_paladin_6
		}
		if = {
			limit = {
				check_variable = { which = wc_experience_paladin value = 7 }
				NOT = { check_variable = { which = wc_experience_paladin value = 8 } }
			}
			add_trait = class_paladin_7
		}
		if = {
			limit = {
				check_variable = { which = wc_experience_paladin value = 8 }
				NOT = { check_variable = { which = wc_experience_paladin value = 9 } }
			}
			add_trait = class_paladin_8
		}
		if = {
			limit = {
				check_variable = { which = wc_experience_paladin value = 9 }
				NOT = { check_variable = { which = wc_experience_paladin value = 10 } }
			}
			add_trait = class_paladin_9
		}
		if = {
			limit = {
				check_variable = { which = wc_experience_paladin value = 10 }
			}
			add_trait = class_paladin_10
		}
	}
	if = {
		limit = { check_variable = { which = wc_experience_priest value = 1 } }
		if = {
			limit = {
				check_variable = { which = wc_experience_priest value = 1 }
				NOT = { check_variable = { which = wc_experience_priest value = 2 } }
			}
			add_trait = class_priest_1
		}
		if = {
			limit = {
				check_variable = { which = wc_experience_priest value = 2 }
				NOT = { check_variable = { which = wc_experience_priest value = 3 } }
			}
			add_trait = class_priest_2
		}
		if = {
			limit = {
				check_variable = { which = wc_experience_priest value = 3 }
				NOT = { check_variable = { which = wc_experience_priest value = 4 } }
			}
			add_trait = class_priest_3
		}
		if = {
			limit = {
				check_variable = { which = wc_experience_priest value = 4 }
				NOT = { check_variable = { which = wc_experience_priest value = 5 } }
			}
			add_trait = class_priest_4
		}
		if = {
			limit = {
				check_variable = { which = wc_experience_priest value = 5 }
				NOT = { check_variable = { which = wc_experience_priest value = 6 } }
			}
			add_trait = class_priest_5
		}
		if = {
			limit = {
				check_variable = { which = wc_experience_priest value = 6 }
				NOT = { check_variable = { which = wc_experience_priest value = 7 } }
			}
			add_trait = class_priest_6
		}
		if = {
			limit = {
				check_variable = { which = wc_experience_priest value = 7 }
				NOT = { check_variable = { which = wc_experience_priest value = 8 } }
			}
			add_trait = class_priest_7
		}
		if = {
			limit = {
				check_variable = { which = wc_experience_priest value = 8 }
				NOT = { check_variable = { which = wc_experience_priest value = 9 } }
			}
			add_trait = class_priest_8
		}
		if = {
			limit = {
				check_variable = { which = wc_experience_priest value = 9 }
				NOT = { check_variable = { which = wc_experience_priest value = 10 } }
			}
			add_trait = class_priest_9
		}
		if = {
			limit = {
				check_variable = { which = wc_experience_priest value = 10 }
			}
			add_trait = class_priest_10
		}
		if = {
			limit = {
				true_religion = kaldorei_religion
				NOT = { trait = subclass_moon_priest }
			}
			add_trait = subclass_moon_priest
		}
	}
	if = {
		limit = { check_variable = { which = wc_experience_rogue value = 1 } }
		if = {
			limit = {
				check_variable = { which = wc_experience_rogue value = 1 }
				NOT = { check_variable = { which = wc_experience_rogue value = 2 } }
			}
			add_trait = class_rogue_1
		}
		if = {
			limit = {
				check_variable = { which = wc_experience_rogue value = 2 }
				NOT = { check_variable = { which = wc_experience_rogue value = 3 } }
			}
			add_trait = class_rogue_2
		}
		if = {
			limit = {
				check_variable = { which = wc_experience_rogue value = 3 }
				NOT = { check_variable = { which = wc_experience_rogue value = 4 } }
			}
			add_trait = class_rogue_3
		}
		if = {
			limit = {
				check_variable = { which = wc_experience_rogue value = 4 }
				NOT = { check_variable = { which = wc_experience_rogue value = 5 } }
			}
			add_trait = class_rogue_4
		}
		if = {
			limit = {
				check_variable = { which = wc_experience_rogue value = 5 }
				NOT = { check_variable = { which = wc_experience_rogue value = 6 } }
			}
			add_trait = class_rogue_5
		}
		if = {
			limit = {
				check_variable = { which = wc_experience_rogue value = 6 }
				NOT = { check_variable = { which = wc_experience_rogue value = 7 } }
			}
			add_trait = class_rogue_6
		}
		if = {
			limit = {
				check_variable = { which = wc_experience_rogue value = 7 }
				NOT = { check_variable = { which = wc_experience_rogue value = 8 } }
			}
			add_trait = class_rogue_7
		}
		if = {
			limit = {
				check_variable = { which = wc_experience_rogue value = 8 }
				NOT = { check_variable = { which = wc_experience_rogue value = 9 } }
			}
			add_trait = class_rogue_8
		}
		if = {
			limit = {
				check_variable = { which = wc_experience_rogue value = 9 }
				NOT = { check_variable = { which = wc_experience_rogue value = 10 } }
			}
			add_trait = class_rogue_9
		}
		if = {
			limit = {
				check_variable = { which = wc_experience_rogue value = 10 }
			}
			add_trait = class_rogue_10
		}
	}
	if = {
		limit = { check_variable = { which = wc_experience_warlock value = 1 } }
		if = {
			limit = {
				check_variable = { which = wc_experience_warlock value = 1 }
				NOT = { check_variable = { which = wc_experience_warlock value = 2 } }
			}
			add_trait = class_warlock_1
		}
		if = {
			limit = {
				check_variable = { which = wc_experience_warlock value = 2 }
				NOT = { check_variable = { which = wc_experience_warlock value = 3 } }
			}
			add_trait = class_warlock_2
		}
		if = {
			limit = {
				check_variable = { which = wc_experience_warlock value = 3 }
				NOT = { check_variable = { which = wc_experience_warlock value = 4 } }
			}
			add_trait = class_warlock_3
		}
		if = {
			limit = {
				check_variable = { which = wc_experience_warlock value = 4 }
				NOT = { check_variable = { which = wc_experience_warlock value = 5 } }
			}
			add_trait = class_warlock_4
		}
		if = {
			limit = {
				check_variable = { which = wc_experience_warlock value = 5 }
				NOT = { check_variable = { which = wc_experience_warlock value = 6 } }
			}
			add_trait = class_warlock_5
		}
		if = {
			limit = {
				check_variable = { which = wc_experience_warlock value = 6 }
				NOT = { check_variable = { which = wc_experience_warlock value = 7 } }
			}
			add_trait = class_warlock_6
		}
		if = {
			limit = {
				check_variable = { which = wc_experience_warlock value = 7 }
				NOT = { check_variable = { which = wc_experience_warlock value = 8 } }
			}
			add_trait = class_warlock_7
		}
		if = {
			limit = {
				check_variable = { which = wc_experience_warlock value = 8 }
				NOT = { check_variable = { which = wc_experience_warlock value = 9 } }
			}
			add_trait = class_warlock_8
		}
		if = {
			limit = {
				check_variable = { which = wc_experience_warlock value = 9 }
				NOT = { check_variable = { which = wc_experience_warlock value = 10 } }
			}
			add_trait = class_warlock_9
		}
		if = {
			limit = {
				check_variable = { which = wc_experience_warlock value = 10 }
			}
			add_trait = class_warlock_10
		}
	}
	if = {
		limit = { check_variable = { which = wc_experience_shaman value = 1 } }
		if = {
			limit = {
				check_variable = { which = wc_experience_shaman value = 1 }
				NOT = { check_variable = { which = wc_experience_shaman value = 2 } }
			}
			add_trait = class_shaman_1
		}
		if = {
			limit = {
				check_variable = { which = wc_experience_shaman value = 2 }
				NOT = { check_variable = { which = wc_experience_shaman value = 3 } }
			}
			add_trait = class_shaman_2
		}
		if = {
			limit = {
				check_variable = { which = wc_experience_shaman value = 3 }
				NOT = { check_variable = { which = wc_experience_shaman value = 4 } }
			}
			add_trait = class_shaman_3
		}
		if = {
			limit = {
				check_variable = { which = wc_experience_shaman value = 4 }
				NOT = { check_variable = { which = wc_experience_shaman value = 5 } }
			}
			add_trait = class_shaman_4
		}
		if = {
			limit = {
				check_variable = { which = wc_experience_shaman value = 5 }
				NOT = { check_variable = { which = wc_experience_shaman value = 6 } }
			}
			add_trait = class_shaman_5
		}
		if = {
			limit = {
				check_variable = { which = wc_experience_shaman value = 6 }
				NOT = { check_variable = { which = wc_experience_shaman value = 7 } }
			}
			add_trait = class_shaman_6
		}
		if = {
			limit = {
				check_variable = { which = wc_experience_shaman value = 7 }
				NOT = { check_variable = { which = wc_experience_shaman value = 8 } }
			}
			add_trait = class_shaman_7
		}
		if = {
			limit = {
				check_variable = { which = wc_experience_shaman value = 8 }
				NOT = { check_variable = { which = wc_experience_shaman value = 9 } }
			}
			add_trait = class_shaman_8
		}
		if = {
			limit = {
				check_variable = { which = wc_experience_shaman value = 9 }
				NOT = { check_variable = { which = wc_experience_shaman value = 10 } }
			}
			add_trait = class_shaman_9
		}
		if = {
			limit = {
				check_variable = { which = wc_experience_shaman value = 10 }
			}
			add_trait = class_shaman_10
		}
		# if = {
			# limit = { true_religion_group = void_group }
			# add_trait = subclass_dark_shaman
		# }
	}
	if = {
		limit = { check_variable = { which = wc_experience_druid value = 1 } }
		if = {
			limit = {
				check_variable = { which = wc_experience_druid value = 1 }
				NOT = { check_variable = { which = wc_experience_druid value = 2 } }
			}
			add_trait = class_druid_1
		}
		if = {
			limit = {
				check_variable = { which = wc_experience_druid value = 2 }
				NOT = { check_variable = { which = wc_experience_druid value = 3 } }
			}
			add_trait = class_druid_2
		}
		if = {
			limit = {
				check_variable = { which = wc_experience_druid value = 3 }
				NOT = { check_variable = { which = wc_experience_druid value = 4 } }
			}
			add_trait = class_druid_3
		}
		if = {
			limit = {
				check_variable = { which = wc_experience_druid value = 4 }
				NOT = { check_variable = { which = wc_experience_druid value = 5 } }
			}
			add_trait = class_druid_4
		}
		if = {
			limit = {
				check_variable = { which = wc_experience_druid value = 5 }
				NOT = { check_variable = { which = wc_experience_druid value = 6 } }
			}
			add_trait = class_druid_5
		}
		if = {
			limit = {
				check_variable = { which = wc_experience_druid value = 6 }
				NOT = { check_variable = { which = wc_experience_druid value = 7 } }
			}
			add_trait = class_druid_6
		}
		if = {
			limit = {
				check_variable = { which = wc_experience_druid value = 7 }
				NOT = { check_variable = { which = wc_experience_druid value = 8 } }
			}
			add_trait = class_druid_7
		}
		if = {
			limit = {
				check_variable = { which = wc_experience_druid value = 8 }
				NOT = { check_variable = { which = wc_experience_druid value = 9 } }
			}
			add_trait = class_druid_8
		}
		if = {
			limit = {
				check_variable = { which = wc_experience_druid value = 9 }
				NOT = { check_variable = { which = wc_experience_druid value = 10 } }
			}
			add_trait = class_druid_9
		}
		if = {
			limit = {
				check_variable = { which = wc_experience_druid value = 10 }
			}
			add_trait = class_druid_10
		}
	}
	if = {
		limit = { check_variable = { which = wc_experience_loa_priest value = 1 } }
		if = {
			limit = {
				check_variable = { which = wc_experience_loa_priest value = 1 }
				NOT = { check_variable = { which = wc_experience_loa_priest value = 2 } }
			}
			add_trait = class_loa_priest_1
		}
		if = {
			limit = {
				check_variable = { which = wc_experience_loa_priest value = 2 }
				NOT = { check_variable = { which = wc_experience_loa_priest value = 3 } }
			}
			add_trait = class_loa_priest_2
		}
		if = {
			limit = {
				check_variable = { which = wc_experience_loa_priest value = 3 }
				NOT = { check_variable = { which = wc_experience_loa_priest value = 4 } }
			}
			add_trait = class_loa_priest_3
		}
		if = {
			limit = {
				check_variable = { which = wc_experience_loa_priest value = 4 }
				NOT = { check_variable = { which = wc_experience_loa_priest value = 5 } }
			}
			add_trait = class_loa_priest_4
		}
		if = {
			limit = {
				check_variable = { which = wc_experience_loa_priest value = 5 }
				NOT = { check_variable = { which = wc_experience_loa_priest value = 6 } }
			}
			add_trait = class_loa_priest_5
		}
		if = {
			limit = {
				check_variable = { which = wc_experience_loa_priest value = 6 }
				NOT = { check_variable = { which = wc_experience_loa_priest value = 7 } }
			}
			add_trait = class_loa_priest_6
		}
		if = {
			limit = {
				check_variable = { which = wc_experience_loa_priest value = 7 }
				NOT = { check_variable = { which = wc_experience_loa_priest value = 8 } }
			}
			add_trait = class_loa_priest_7
		}
		if = {
			limit = {
				check_variable = { which = wc_experience_loa_priest value = 8 }
				NOT = { check_variable = { which = wc_experience_loa_priest value = 9 } }
			}
			add_trait = class_loa_priest_8
		}
		if = {
			limit = {
				check_variable = { which = wc_experience_loa_priest value = 9 }
				NOT = { check_variable = { which = wc_experience_loa_priest value = 10 } }
			}
			add_trait = class_loa_priest_9
		}
		if = {
			limit = {
				check_variable = { which = wc_experience_loa_priest value = 10 }
			}
			add_trait = class_loa_priest_10
		}
	}
	if = {
		limit = { check_variable = { which = wc_experience_death_knight value = 1 } }
		if = {
			limit = {
				check_variable = { which = wc_experience_death_knight value = 1 }
				NOT = { check_variable = { which = wc_experience_death_knight value = 2 } }
			}
			add_trait = class_death_knight_1
		}
		if = {
			limit = {
				check_variable = { which = wc_experience_death_knight value = 2 }
				NOT = { check_variable = { which = wc_experience_death_knight value = 3 } }
			}
			add_trait = class_death_knight_2
		}
		if = {
			limit = {
				check_variable = { which = wc_experience_death_knight value = 3 }
				NOT = { check_variable = { which = wc_experience_death_knight value = 4 } }
			}
			add_trait = class_death_knight_3
		}
		if = {
			limit = {
				check_variable = { which = wc_experience_death_knight value = 4 }
				NOT = { check_variable = { which = wc_experience_death_knight value = 5 } }
			}
			add_trait = class_death_knight_4
		}
		if = {
			limit = {
				check_variable = { which = wc_experience_death_knight value = 5 }
				NOT = { check_variable = { which = wc_experience_death_knight value = 6 } }
			}
			add_trait = class_death_knight_5
		}
		if = {
			limit = {
				check_variable = { which = wc_experience_death_knight value = 6 }
				NOT = { check_variable = { which = wc_experience_death_knight value = 7 } }
			}
			add_trait = class_death_knight_6
		}
		if = {
			limit = {
				check_variable = { which = wc_experience_death_knight value = 7 }
				NOT = { check_variable = { which = wc_experience_death_knight value = 8 } }
			}
			add_trait = class_death_knight_7
		}
		if = {
			limit = {
				check_variable = { which = wc_experience_death_knight value = 8 }
				NOT = { check_variable = { which = wc_experience_death_knight value = 9 } }
			}
			add_trait = class_death_knight_8
		}
		if = {
			limit = {
				check_variable = { which = wc_experience_death_knight value = 9 }
				NOT = { check_variable = { which = wc_experience_death_knight value = 10 } }
			}
			add_trait = class_death_knight_9
		}
		if = {
			limit = {
				check_variable = { which = wc_experience_death_knight value = 10 }
			}
			add_trait = class_death_knight_10
		}
	}
	if = {
		limit = { check_variable = { which = wc_experience_necromancer value = 1 } }
		if = {
			limit = {
				check_variable = { which = wc_experience_necromancer value = 1 }
				NOT = { check_variable = { which = wc_experience_necromancer value = 2 } }
			}
			add_trait = class_necromancer_1
		}
		if = {
			limit = {
				check_variable = { which = wc_experience_necromancer value = 2 }
				NOT = { check_variable = { which = wc_experience_necromancer value = 3 } }
			}
			add_trait = class_necromancer_2
		}
		if = {
			limit = {
				check_variable = { which = wc_experience_necromancer value = 3 }
				NOT = { check_variable = { which = wc_experience_necromancer value = 4 } }
			}
			add_trait = class_necromancer_3
		}
		if = {
			limit = {
				check_variable = { which = wc_experience_necromancer value = 4 }
				NOT = { check_variable = { which = wc_experience_necromancer value = 5 } }
			}
			add_trait = class_necromancer_4
		}
		if = {
			limit = {
				check_variable = { which = wc_experience_necromancer value = 5 }
				NOT = { check_variable = { which = wc_experience_necromancer value = 6 } }
			}
			add_trait = class_necromancer_5
		}
		if = {
			limit = {
				check_variable = { which = wc_experience_necromancer value = 6 }
				NOT = { check_variable = { which = wc_experience_necromancer value = 7 } }
			}
			add_trait = class_necromancer_6
		}
		if = {
			limit = {
				check_variable = { which = wc_experience_necromancer value = 7 }
				NOT = { check_variable = { which = wc_experience_necromancer value = 8 } }
			}
			add_trait = class_necromancer_7
		}
		if = {
			limit = {
				check_variable = { which = wc_experience_necromancer value = 8 }
				NOT = { check_variable = { which = wc_experience_necromancer value = 9 } }
			}
			add_trait = class_necromancer_8
		}
		if = {
			limit = {
				check_variable = { which = wc_experience_necromancer value = 9 }
				NOT = { check_variable = { which = wc_experience_necromancer value = 10 } }
			}
			add_trait = class_necromancer_9
		}
		if = {
			limit = {
				check_variable = { which = wc_experience_necromancer value = 10 }
			}
			add_trait = class_necromancer_10
		}
	}
	if = {
		limit = { check_variable = { which = wc_experience_shadow_priest value = 1 } }
		if = {
			limit = {
				check_variable = { which = wc_experience_shadow_priest value = 1 }
				NOT = { check_variable = { which = wc_experience_shadow_priest value = 2 } }
			}
			add_trait = class_shadow_priest_1
		}
		if = {
			limit = {
				check_variable = { which = wc_experience_shadow_priest value = 2 }
				NOT = { check_variable = { which = wc_experience_shadow_priest value = 3 } }
			}
			add_trait = class_shadow_priest_2
		}
		if = {
			limit = {
				check_variable = { which = wc_experience_shadow_priest value = 3 }
				NOT = { check_variable = { which = wc_experience_shadow_priest value = 4 } }
			}
			add_trait = class_shadow_priest_3
		}
		if = {
			limit = {
				check_variable = { which = wc_experience_shadow_priest value = 4 }
				NOT = { check_variable = { which = wc_experience_shadow_priest value = 5 } }
			}
			add_trait = class_shadow_priest_4
		}
		if = {
			limit = {
				check_variable = { which = wc_experience_shadow_priest value = 5 }
				NOT = { check_variable = { which = wc_experience_shadow_priest value = 6 } }
			}
			add_trait = class_shadow_priest_5
		}
		if = {
			limit = {
				check_variable = { which = wc_experience_shadow_priest value = 6 }
				NOT = { check_variable = { which = wc_experience_shadow_priest value = 7 } }
			}
			add_trait = class_shadow_priest_6
		}
		if = {
			limit = {
				check_variable = { which = wc_experience_shadow_priest value = 7 }
				NOT = { check_variable = { which = wc_experience_shadow_priest value = 8 } }
			}
			add_trait = class_shadow_priest_7
		}
		if = {
			limit = {
				check_variable = { which = wc_experience_shadow_priest value = 8 }
				NOT = { check_variable = { which = wc_experience_shadow_priest value = 9 } }
			}
			add_trait = class_shadow_priest_8
		}
		if = {
			limit = {
				check_variable = { which = wc_experience_shadow_priest value = 9 }
				NOT = { check_variable = { which = wc_experience_shadow_priest value = 10 } }
			}
			add_trait = class_shadow_priest_9
		}
		if = {
			limit = {
				check_variable = { which = wc_experience_shadow_priest value = 10 }
			}
			add_trait = class_shadow_priest_10
		}
	}
	# Sets false class
	hidden_effect = {
		if = {
			limit = {
				OR = {
					trait = class_mage_1
					trait = class_warlock_1
					trait = class_shaman_1
					trait = class_druid_1
					trait = class_loa_priest_1
					trait = class_necromancer_1
					trait = class_shadow_priest_1
				}
			}
			add_sham_class_1_effect = yes
		}
		if = {
			limit = {
				OR = {
					trait = class_mage_2
					trait = class_warlock_2
					trait = class_shaman_2
					trait = class_druid_2
					trait = class_loa_priest_2
					trait = class_necromancer_2
					trait = class_shadow_priest_2
				}
			}
			add_sham_class_2_effect = yes
		}
		if = {
			limit = {
				OR = {
					trait = class_mage_3
					trait = class_warlock_3
					trait = class_shaman_3
					trait = class_druid_3
					trait = class_loa_priest_3
					trait = class_necromancer_3
					trait = class_shadow_priest_3
				}
			}
			add_sham_class_3_effect = yes
		}
		if = {
			limit = {
				OR = {
					trait = class_mage_4
					trait = class_warlock_4
					trait = class_shaman_4
					trait = class_druid_4
					trait = class_loa_priest_4
					trait = class_necromancer_4
					trait = class_shadow_priest_4
				}
			}
			add_sham_class_4_effect = yes
		}
		if = {
			limit = {
				OR = {
					trait = class_mage_5
					trait = class_warlock_5
					trait = class_shaman_5
					trait = class_druid_5
					trait = class_loa_priest_5
					trait = class_necromancer_5
					trait = class_shadow_priest_5
				}
			}
			add_sham_class_5_effect = yes
		}
		if = {
			limit = {
				OR = {
					trait = class_mage_6
					trait = class_warlock_6
					trait = class_shaman_6
					trait = class_druid_6
					trait = class_loa_priest_6
					trait = class_necromancer_6
					trait = class_shadow_priest_6
				}
			}
			add_sham_class_6_effect = yes
		}
		if = {
			limit = {
				OR = {
					trait = class_mage_7
					trait = class_warlock_7
					trait = class_shaman_7
					trait = class_druid_7
					trait = class_loa_priest_7
					trait = class_necromancer_7
					trait = class_shadow_priest_7
				}
			}
			add_sham_class_7_effect = yes
		}
		if = {
			limit = {
				OR = {
					trait = class_mage_8
					trait = class_warlock_8
					trait = class_shaman_8
					trait = class_druid_8
					trait = class_loa_priest_8
					trait = class_necromancer_8
					trait = class_shadow_priest_8
				}
			}
			add_sham_class_8_effect = yes
		}
		if = {
			limit = {
				OR = {
					trait = class_mage_9
					trait = class_warlock_9
					trait = class_shaman_9
					trait = class_druid_9
					trait = class_loa_priest_9
					trait = class_necromancer_9
					trait = class_shadow_priest_9
				}
			}
			add_sham_class_9_effect = yes
		}
		if = {
			limit = {
				OR = {
					trait = class_mage_10
					trait = class_warlock_10
					trait = class_shaman_10
					trait = class_druid_10
					trait = class_loa_priest_10
					trait = class_necromancer_10
					trait = class_shadow_priest_10
				}
			}
			add_sham_class_10_effect = yes
		}
	}
	remove_training_modifiers_effect = yes
	remove_class_things_effect = yes
}

# Sets false
add_sham_class_1_effect = {
	if = {
		limit = {
			OR = {
				has_character_flag = is_sham_mage_flag
				has_character_flag = is_sham_priest_flag
				has_character_flag = is_sham_shaman_flag
				has_character_flag = is_sham_druid_flag
				has_character_flag = is_sham_loa_priest_flag
			}
		}
		trigger_switch = {
			on_trigger = has_character_flag
			is_sham_mage_flag = { add_trait = class_mage_1 }
			is_sham_priest_flag = { add_trait = class_priest_1 }
			is_sham_shaman_flag = { add_trait = class_shaman_1 }
			is_sham_druid_flag = { add_trait = class_druid_1 }
			is_sham_loa_priest_flag = { add_trait = class_loa_priest_1 }
		}
		hidden_effect = { add_trait = class_penalty_1 }
	}
}
add_sham_class_2_effect = {
	if = {
		limit = {
			OR = {
				has_character_flag = is_sham_mage_flag
				has_character_flag = is_sham_priest_flag
				has_character_flag = is_sham_shaman_flag
				has_character_flag = is_sham_druid_flag
				has_character_flag = is_sham_loa_priest_flag
			}
		}
		trigger_switch = {
			on_trigger = has_character_flag
			is_sham_mage_flag = { add_trait = class_mage_2 }
			is_sham_priest_flag = { add_trait = class_priest_2 }
			is_sham_shaman_flag = { add_trait = class_shaman_2 }
			is_sham_druid_flag = { add_trait = class_druid_2 }
			is_sham_loa_priest_flag = { add_trait = class_loa_priest_2 }
		}
		hidden_effect = { add_trait = class_penalty_2 }
	}
}
add_sham_class_3_effect = {
	if = {
		limit = {
			OR = {
				has_character_flag = is_sham_mage_flag
				has_character_flag = is_sham_priest_flag
				has_character_flag = is_sham_shaman_flag
				has_character_flag = is_sham_druid_flag
				has_character_flag = is_sham_loa_priest_flag
			}
		}
		trigger_switch = {
			on_trigger = has_character_flag
			is_sham_mage_flag = { add_trait = class_mage_3 }
			is_sham_priest_flag = { add_trait = class_priest_3 }
			is_sham_shaman_flag = { add_trait = class_shaman_3 }
			is_sham_druid_flag = { add_trait = class_druid_3 }
			is_sham_loa_priest_flag = { add_trait = class_loa_priest_3 }
		}
		hidden_effect = { add_trait = class_penalty_3 }
	}
}
add_sham_class_4_effect = {
	if = {
		limit = {
			OR = {
				has_character_flag = is_sham_mage_flag
				has_character_flag = is_sham_priest_flag
				has_character_flag = is_sham_shaman_flag
				has_character_flag = is_sham_druid_flag
				has_character_flag = is_sham_loa_priest_flag
			}
		}
		trigger_switch = {
			on_trigger = has_character_flag
			is_sham_mage_flag = { add_trait = class_mage_4 }
			is_sham_priest_flag = { add_trait = class_priest_4 }
			is_sham_shaman_flag = { add_trait = class_shaman_4 }
			is_sham_druid_flag = { add_trait = class_druid_4 }
			is_sham_loa_priest_flag = { add_trait = class_loa_priest_4 }
		}
		hidden_effect = { add_trait = class_penalty_4 }
	}
}
add_sham_class_5_effect = {
	if = {
		limit = {
			OR = {
				has_character_flag = is_sham_mage_flag
				has_character_flag = is_sham_priest_flag
				has_character_flag = is_sham_shaman_flag
				has_character_flag = is_sham_druid_flag
				has_character_flag = is_sham_loa_priest_flag
			}
		}
		trigger_switch = {
			on_trigger = has_character_flag
			is_sham_mage_flag = { add_trait = class_mage_5 }
			is_sham_priest_flag = { add_trait = class_priest_5 }
			is_sham_shaman_flag = { add_trait = class_shaman_5 }
			is_sham_druid_flag = { add_trait = class_druid_5 }
			is_sham_loa_priest_flag = { add_trait = class_loa_priest_5 }
		}
		hidden_effect = { add_trait = class_penalty_5 }
	}
}
add_sham_class_6_effect = {
	if = {
		limit = {
			OR = {
				has_character_flag = is_sham_mage_flag
				has_character_flag = is_sham_priest_flag
				has_character_flag = is_sham_shaman_flag
				has_character_flag = is_sham_druid_flag
				has_character_flag = is_sham_loa_priest_flag
			}
		}
		trigger_switch = {
			on_trigger = has_character_flag
			is_sham_mage_flag = { add_trait = class_mage_6 }
			is_sham_priest_flag = { add_trait = class_priest_6 }
			is_sham_shaman_flag = { add_trait = class_shaman_6 }
			is_sham_druid_flag = { add_trait = class_druid_6 }
			is_sham_loa_priest_flag = { add_trait = class_loa_priest_6 }
		}
		hidden_effect = { add_trait = class_penalty_6 }
	}
}
add_sham_class_7_effect = {
	if = {
		limit = {
			OR = {
				has_character_flag = is_sham_mage_flag
				has_character_flag = is_sham_priest_flag
				has_character_flag = is_sham_shaman_flag
				has_character_flag = is_sham_druid_flag
				has_character_flag = is_sham_loa_priest_flag
			}
		}
		trigger_switch = {
			on_trigger = has_character_flag
			is_sham_mage_flag = { add_trait = class_mage_7 }
			is_sham_priest_flag = { add_trait = class_priest_7 }
			is_sham_shaman_flag = { add_trait = class_shaman_7 }
			is_sham_druid_flag = { add_trait = class_druid_7 }
			is_sham_loa_priest_flag = { add_trait = class_loa_priest_7 }
		}
		hidden_effect = { add_trait = class_penalty_7 }
	}
}
add_sham_class_8_effect = {
	if = {
		limit = {
			OR = {
				has_character_flag = is_sham_mage_flag
				has_character_flag = is_sham_priest_flag
				has_character_flag = is_sham_shaman_flag
				has_character_flag = is_sham_druid_flag
				has_character_flag = is_sham_loa_priest_flag
			}
		}
		trigger_switch = {
			on_trigger = has_character_flag
			is_sham_mage_flag = { add_trait = class_mage_8 }
			is_sham_priest_flag = { add_trait = class_priest_8 }
			is_sham_shaman_flag = { add_trait = class_shaman_8 }
			is_sham_druid_flag = { add_trait = class_druid_8 }
			is_sham_loa_priest_flag = { add_trait = class_loa_priest_8 }
		}
		hidden_effect = { add_trait = class_penalty_8 }
	}
}
add_sham_class_9_effect = {
	if = {
		limit = {
			OR = {
				has_character_flag = is_sham_mage_flag
				has_character_flag = is_sham_priest_flag
				has_character_flag = is_sham_shaman_flag
				has_character_flag = is_sham_druid_flag
				has_character_flag = is_sham_loa_priest_flag
			}
		}
		trigger_switch = {
			on_trigger = has_character_flag
			is_sham_mage_flag = { add_trait = class_mage_9 }
			is_sham_priest_flag = { add_trait = class_priest_9 }
			is_sham_shaman_flag = { add_trait = class_shaman_9 }
			is_sham_druid_flag = { add_trait = class_druid_9 }
			is_sham_loa_priest_flag = { add_trait = class_loa_priest_9 }
		}
		hidden_effect = { add_trait = class_penalty_9 }
	}
}
add_sham_class_10_effect = {
	if = {
		limit = {
			OR = {
				has_character_flag = is_sham_mage_flag
				has_character_flag = is_sham_priest_flag
				has_character_flag = is_sham_shaman_flag
				has_character_flag = is_sham_druid_flag
				has_character_flag = is_sham_loa_priest_flag
			}
		}
		trigger_switch = {
			on_trigger = has_character_flag
			is_sham_mage_flag = { add_trait = class_mage_10 }
			is_sham_priest_flag = { add_trait = class_priest_10 }
			is_sham_shaman_flag = { add_trait = class_shaman_10 }
			is_sham_druid_flag = { add_trait = class_druid_10 }
			is_sham_loa_priest_flag = { add_trait = class_loa_priest_10 }
		}
		hidden_effect = { add_trait = class_penalty_10 }
	}
}

# Clear class traits, modifiers, flags here
remove_class_things_effect = {
	### Druid ###
	if = {
		limit = { is_druid_class_trigger = no }
		# Traits
		if = { limit = { trait = cat_form 				} remove_trait = cat_form 				}
		if = { limit = { trait = bear_form 				} remove_trait = bear_form 				}
		if = { limit = { trait = talon_form 			} remove_trait = talon_form 			}
		if = { limit = { trait = stag_form 				} remove_trait = stag_form 				}
		if = { limit = { trait = pack_form 				} remove_trait = pack_form 				}
		if = { limit = { trait = master_cat_form 		} remove_trait = master_cat_form 		}
		if = { limit = { trait = master_bear_form 		} remove_trait = master_bear_form 		}
		if = { limit = { trait = master_talon_form 		} remove_trait = master_talon_form 		}
		if = { limit = { trait = cat_form_mastered 		} remove_trait = cat_form_mastered 		}
		if = { limit = { trait = bear_form_mastered 	} remove_trait = bear_form_mastered 	}
		if = { limit = { trait = talon_form_mastered 	} remove_trait = talon_form_mastered 	}
		if = { limit = { trait = stag_form_mastered 	} remove_trait = stag_form_mastered 	}
		if = { limit = { trait = pack_form_mastered 	} remove_trait = pack_form_mastered 	}
		if = { limit = { trait = in_emerald_dream 		} remove_trait = in_emerald_dream 		}

		# Modifiers

		# Flags
		if = { limit = { has_character_flag = cat_form 		} clr_character_flag = cat_form 		}
		if = { limit = { has_character_flag = bear_form 		} clr_character_flag = bear_form 		}
		if = { limit = { has_character_flag = talon_form 		} clr_character_flag = talon_form 	}
		if = { limit = { has_character_flag = master_cat_form 		} clr_character_flag = master_cat_form }
		if = { limit = { has_character_flag = master_bear_form 		} clr_character_flag = master_bear_form }
		if = { limit = { has_character_flag = master_talon_form 		} clr_character_flag = master_talon_form }
		if = { limit = { has_character_flag = stag_form 		} clr_character_flag = stag_form 	}
		if = { limit = { has_character_flag = pack_form 		} clr_character_flag = pack_form 	}
		if = { limit = { has_character_flag = cat_form_1 		} clr_character_flag = cat_form_1 }
		if = { limit = { has_character_flag = cat_form_2 		} clr_character_flag = cat_form_2 }
		if = { limit = { has_character_flag = cat_form_3 		} clr_character_flag = cat_form_3 }
		if = { limit = { has_character_flag = cat_form_4 		} clr_character_flag = cat_form_4 }
		if = { limit = { has_character_flag = cat_form_5 		} clr_character_flag = cat_form_5 }
		if = { limit = { has_character_flag = bear_form_1 		} clr_character_flag = bear_form_1 }
		if = { limit = { has_character_flag = bear_form_2 		} clr_character_flag = bear_form_2 }
		if = { limit = { has_character_flag = bear_form_3 		} clr_character_flag = bear_form_3 }
		if = { limit = { has_character_flag = bear_form_4 		} clr_character_flag = bear_form_4 }
		if = { limit = { has_character_flag = bear_form_5 		} clr_character_flag = bear_form_5 }
		if = { limit = { has_character_flag = stag_form_1 		} clr_character_flag = stag_form_1 }
		if = { limit = { has_character_flag = stag_form_2 		} clr_character_flag = stag_form_2 }
		if = { limit = { has_character_flag = prefers_cat_form 		} clr_character_flag = prefers_cat_form }
		if = { limit = { has_character_flag = prefers_bear_form 		} clr_character_flag = prefers_bear_form }
		if = { limit = { has_character_flag = prefers_talon_form 		} clr_character_flag = prefers_talon_form }
		if = { limit = { has_character_flag = prefers_stag_form 		} clr_character_flag = prefers_stag_form }
	}
}
# Remove traits if you change your class or get a level up
remove_class_trait_effect = {
	count_experience_effect = yes
	if = {
		limit = {
			OR = {
				AND = {
					is_mage_class_trigger = yes
					is_visible_mage_to_all_trigger = yes
				}
				AND = {
					is_warlock_class_trigger = yes
					fel_modifier_is_visible_to_all_trigger = yes
				}
				AND = {
					is_necromancer_class_trigger = yes
					necromantic_modifier_is_visible_to_all_trigger = yes
				}
				AND = {
					is_shadow_priest_class_trigger = yes
					void_modifier_is_visible_to_all_trigger = yes
				}
			}
		}
		clr_sham_flag_effect = yes
	}

	hidden_effect = {
		if = { limit = { trait = class_penalty_1		} remove_trait = class_penalty_1		 	}
		if = { limit = { trait = class_penalty_2 		} remove_trait = class_penalty_2		 	}
		if = { limit = { trait = class_penalty_3 		} remove_trait = class_penalty_3		 	}
		if = { limit = { trait = class_penalty_4		} remove_trait = class_penalty_4		 	}
		if = { limit = { trait = class_penalty_5		} remove_trait = class_penalty_5		 	}
		if = { limit = { trait = class_penalty_6		} remove_trait = class_penalty_6		 	}
		if = { limit = { trait = class_penalty_7		} remove_trait = class_penalty_7		 	}
		if = { limit = { trait = class_penalty_8		} remove_trait = class_penalty_8		 	}
		if = { limit = { trait = class_penalty_9		} remove_trait = class_penalty_9		 	}
		if = { limit = { trait = class_penalty_10		} remove_trait = class_penalty_10			}
	}

	if = { limit = { trait = class_mage_1				} remove_trait = class_mage_1		 		}
	if = { limit = { trait = class_mage_2 				} remove_trait = class_mage_2		 		}
	if = { limit = { trait = class_mage_3 				} remove_trait = class_mage_3		 		}
	if = { limit = { trait = class_mage_4				} remove_trait = class_mage_4		 		}
	if = { limit = { trait = class_mage_5				} remove_trait = class_mage_5		 		}
	if = { limit = { trait = class_mage_6				} remove_trait = class_mage_6		 		}
	if = { limit = { trait = class_mage_7				} remove_trait = class_mage_7		 		}
	if = { limit = { trait = class_mage_8				} remove_trait = class_mage_8		 		}
	if = { limit = { trait = class_mage_9				} remove_trait = class_mage_9		 		}
	if = { limit = { trait = class_mage_10				} remove_trait = class_mage_10				}

	if = { limit = { trait = class_hunter_1				} remove_trait = class_hunter_1	   			}
	if = { limit = { trait = class_hunter_2				} remove_trait = class_hunter_2	   			}
	if = { limit = { trait = class_hunter_3				} remove_trait = class_hunter_3	   			}
	if = { limit = { trait = class_hunter_4				} remove_trait = class_hunter_4	   			}
	if = { limit = { trait = class_hunter_5				} remove_trait = class_hunter_5	   			}
	if = { limit = { trait = class_hunter_6				} remove_trait = class_hunter_6	   			}
	if = { limit = { trait = class_hunter_7				} remove_trait = class_hunter_7	   			}
	if = { limit = { trait = class_hunter_8				} remove_trait = class_hunter_8	   			}
	if = { limit = { trait = class_hunter_9				} remove_trait = class_hunter_9	   			}
	if = { limit = { trait = class_hunter_10			} remove_trait = class_hunter_10	  		}

	remove_class_warrior_traits_effect = yes

	if = { limit = { trait = class_paladin_1			} remove_trait = class_paladin_1	  		}
	if = { limit = { trait = class_paladin_2			} remove_trait = class_paladin_2	  		}
	if = { limit = { trait = class_paladin_3			} remove_trait = class_paladin_3	  		}
	if = { limit = { trait = class_paladin_4			} remove_trait = class_paladin_4	  		}
	if = { limit = { trait = class_paladin_5			} remove_trait = class_paladin_5	  		}
	if = { limit = { trait = class_paladin_6			} remove_trait = class_paladin_6	  		}
	if = { limit = { trait = class_paladin_7			} remove_trait = class_paladin_7	  		}
	if = { limit = { trait = class_paladin_8			} remove_trait = class_paladin_8	  		}
	if = { limit = { trait = class_paladin_9			} remove_trait = class_paladin_9	  		}
	if = { limit = { trait = class_paladin_10			} remove_trait = class_paladin_10	 		}

	if = { limit = { trait = class_priest_1				} remove_trait = class_priest_1	   			}
	if = { limit = { trait = class_priest_2				} remove_trait = class_priest_2	   			}
	if = { limit = { trait = class_priest_3				} remove_trait = class_priest_3	   			}
	if = { limit = { trait = class_priest_4				} remove_trait = class_priest_4	   			}
	if = { limit = { trait = class_priest_5				} remove_trait = class_priest_5	   			}
	if = { limit = { trait = class_priest_6				} remove_trait = class_priest_6	   			}
	if = { limit = { trait = class_priest_7				} remove_trait = class_priest_7	   			}
	if = { limit = { trait = class_priest_8				} remove_trait = class_priest_8	   			}
	if = { limit = { trait = class_priest_9				} remove_trait = class_priest_9	   			}
	if = { limit = { trait = class_priest_10			} remove_trait = class_priest_10	  		}

	if = { limit = { trait = class_rogue_1				} remove_trait = class_rogue_1				}
	if = { limit = { trait = class_rogue_2				} remove_trait = class_rogue_2				}
	if = { limit = { trait = class_rogue_3				} remove_trait = class_rogue_3				}
	if = { limit = { trait = class_rogue_4				} remove_trait = class_rogue_4				}
	if = { limit = { trait = class_rogue_5				} remove_trait = class_rogue_5				}
	if = { limit = { trait = class_rogue_6				} remove_trait = class_rogue_6				}
	if = { limit = { trait = class_rogue_7				} remove_trait = class_rogue_7				}
	if = { limit = { trait = class_rogue_8				} remove_trait = class_rogue_8				}
	if = { limit = { trait = class_rogue_9				} remove_trait = class_rogue_9				}
	if = { limit = { trait = class_rogue_10				} remove_trait = class_rogue_10	   			}

	if = { limit = { trait = class_warlock_1			} remove_trait = class_warlock_1	  		}
	if = { limit = { trait = class_warlock_2			} remove_trait = class_warlock_2	  		}
	if = { limit = { trait = class_warlock_3			} remove_trait = class_warlock_3	  		}
	if = { limit = { trait = class_warlock_4			} remove_trait = class_warlock_4	  		}
	if = { limit = { trait = class_warlock_5			} remove_trait = class_warlock_5	  		}
	if = { limit = { trait = class_warlock_6			} remove_trait = class_warlock_6	  		}
	if = { limit = { trait = class_warlock_7			} remove_trait = class_warlock_7	  		}
	if = { limit = { trait = class_warlock_8			} remove_trait = class_warlock_8	  		}
	if = { limit = { trait = class_warlock_9			} remove_trait = class_warlock_9	  		}
	if = { limit = { trait = class_warlock_10			} remove_trait = class_warlock_10	 		}

	if = { limit = { trait = class_shaman_1				} remove_trait = class_shaman_1	   			}
	if = { limit = { trait = class_shaman_2				} remove_trait = class_shaman_2	   			}
	if = { limit = { trait = class_shaman_3				} remove_trait = class_shaman_3	   			}
	if = { limit = { trait = class_shaman_4				} remove_trait = class_shaman_4	   			}
	if = { limit = { trait = class_shaman_5				} remove_trait = class_shaman_5	   			}
	if = { limit = { trait = class_shaman_6				} remove_trait = class_shaman_6	   			}
	if = { limit = { trait = class_shaman_7				} remove_trait = class_shaman_7	   			}
	if = { limit = { trait = class_shaman_8				} remove_trait = class_shaman_8	   			}
	if = { limit = { trait = class_shaman_9				} remove_trait = class_shaman_9	   			}

	if = { limit = { trait = class_druid_1				} remove_trait = class_druid_1				}
	if = { limit = { trait = class_druid_2				} remove_trait = class_druid_2				}
	if = { limit = { trait = class_druid_3				} remove_trait = class_druid_3				}
	if = { limit = { trait = class_druid_4				} remove_trait = class_druid_4				}
	if = { limit = { trait = class_druid_5				} remove_trait = class_druid_5				}
	if = { limit = { trait = class_druid_6				} remove_trait = class_druid_6				}
	if = { limit = { trait = class_druid_7				} remove_trait = class_druid_7				}
	if = { limit = { trait = class_druid_8				} remove_trait = class_druid_8				}
	if = { limit = { trait = class_druid_9				} remove_trait = class_druid_9				}
	if = { limit = { trait = class_druid_10				} remove_trait = class_druid_10	   			}

	if = { limit = { trait = class_loa_priest_1			} remove_trait = class_loa_priest_1   		}
	if = { limit = { trait = class_loa_priest_2			} remove_trait = class_loa_priest_2   		}
	if = { limit = { trait = class_loa_priest_3			} remove_trait = class_loa_priest_3   		}
	if = { limit = { trait = class_loa_priest_4			} remove_trait = class_loa_priest_4   		}
	if = { limit = { trait = class_loa_priest_5			} remove_trait = class_loa_priest_5   		}
	if = { limit = { trait = class_loa_priest_6			} remove_trait = class_loa_priest_6   		}
	if = { limit = { trait = class_loa_priest_7			} remove_trait = class_loa_priest_7   		}
	if = { limit = { trait = class_loa_priest_8			} remove_trait = class_loa_priest_8   		}
	if = { limit = { trait = class_loa_priest_9			} remove_trait = class_loa_priest_9   		}
	if = { limit = { trait = class_loa_priest_10		} remove_trait = class_loa_priest_10  		}

	if = { limit = { trait = class_death_knight_1		} remove_trait = class_death_knight_1 		}
	if = { limit = { trait = class_death_knight_2		} remove_trait = class_death_knight_2 		}
	if = { limit = { trait = class_death_knight_3		} remove_trait = class_death_knight_3 		}
	if = { limit = { trait = class_death_knight_4		} remove_trait = class_death_knight_4 		}
	if = { limit = { trait = class_death_knight_5		} remove_trait = class_death_knight_5 		}
	if = { limit = { trait = class_death_knight_6		} remove_trait = class_death_knight_6 		}
	if = { limit = { trait = class_death_knight_7		} remove_trait = class_death_knight_7 		}
	if = { limit = { trait = class_death_knight_8		} remove_trait = class_death_knight_8 		}
	if = { limit = { trait = class_death_knight_9		} remove_trait = class_death_knight_9 		}
	if = { limit = { trait = class_death_knight_10		} remove_trait = class_death_knight_10		}

	if = { limit = { trait = class_necromancer_1		} remove_trait = class_necromancer_1 		}
	if = { limit = { trait = class_necromancer_2		} remove_trait = class_necromancer_2 		}
	if = { limit = { trait = class_necromancer_3		} remove_trait = class_necromancer_3 		}
	if = { limit = { trait = class_necromancer_4		} remove_trait = class_necromancer_4 		}
	if = { limit = { trait = class_necromancer_5		} remove_trait = class_necromancer_5 		}
	if = { limit = { trait = class_necromancer_6		} remove_trait = class_necromancer_6 		}
	if = { limit = { trait = class_necromancer_7		} remove_trait = class_necromancer_7 		}
	if = { limit = { trait = class_necromancer_8		} remove_trait = class_necromancer_8 		}
	if = { limit = { trait = class_necromancer_9		} remove_trait = class_necromancer_9 		}
	if = { limit = { trait = class_necromancer_10		} remove_trait = class_necromancer_10		}

	if = { limit = { trait = class_shadow_priest_1		} remove_trait = class_shadow_priest_1	  	}
	if = { limit = { trait = class_shadow_priest_2		} remove_trait = class_shadow_priest_2	  	}
	if = { limit = { trait = class_shadow_priest_3		} remove_trait = class_shadow_priest_3	  	}
	if = { limit = { trait = class_shadow_priest_4		} remove_trait = class_shadow_priest_4	  	}
	if = { limit = { trait = class_shadow_priest_5		} remove_trait = class_shadow_priest_5	  	}
	if = { limit = { trait = class_shadow_priest_6		} remove_trait = class_shadow_priest_6	  	}
	if = { limit = { trait = class_shadow_priest_7		} remove_trait = class_shadow_priest_7	  	}
	if = { limit = { trait = class_shadow_priest_8		} remove_trait = class_shadow_priest_8	  	}
	if = { limit = { trait = class_shadow_priest_9		} remove_trait = class_shadow_priest_9	  	}
	if = { limit = { trait = class_shadow_priest_10		} remove_trait = class_shadow_priest_10	 	}	
	
}
remove_class_warrior_traits_effect = {
	if = { limit = { trait = class_warrior_1	} remove_trait = class_warrior_1	}
	if = { limit = { trait = class_warrior_2	} remove_trait = class_warrior_2	}
	if = { limit = { trait = class_warrior_3	} remove_trait = class_warrior_3	}
	if = { limit = { trait = class_warrior_4	} remove_trait = class_warrior_4	}
	if = { limit = { trait = class_warrior_5	} remove_trait = class_warrior_5	}
	if = { limit = { trait = class_warrior_6	} remove_trait = class_warrior_6	}
	if = { limit = { trait = class_warrior_7	} remove_trait = class_warrior_7	}
	if = { limit = { trait = class_warrior_8	} remove_trait = class_warrior_8	}
	if = { limit = { trait = class_warrior_9	} remove_trait = class_warrior_9	}
	if = { limit = { trait = class_warrior_10	} remove_trait = class_warrior_10	}
}

reset_experience_effect = {
	hidden_effect = {
		set_variable = { which = wc_experience 							value = 0 }
		set_variable = { which = wc_experience_mage 					value = 0 }
		set_variable = { which = wc_experience_hunter 					value = 0 }
		set_variable = { which = wc_experience_warrior 					value = 0 }
		set_variable = { which = wc_experience_paladin 					value = 0 }
		set_variable = { which = wc_experience_priest 					value = 0 }
		set_variable = { which = wc_experience_rogue 					value = 0 }
		set_variable = { which = wc_experience_warlock 					value = 0 }
		set_variable = { which = wc_experience_shaman 					value = 0 }
		set_variable = { which = wc_experience_druid 					value = 0 }
		set_variable = { which = wc_experience_loa_priest 				value = 0 }
		set_variable = { which = wc_experience_death_knight 			value = 0 }
		set_variable = { which = wc_experience_necromancer 				value = 0 }
		set_variable = { which = wc_experience_shadow_priest 			value = 0 }

		set_variable = { which = wc_mentor_experience_mage 				value = 0 }
		set_variable = { which = wc_mentor_experience_hunter 			value = 0 }
		set_variable = { which = wc_mentor_experience_warrior 			value = 0 }
		set_variable = { which = wc_mentor_experience_paladin 			value = 0 }
		set_variable = { which = wc_mentor_experience_priest 			value = 0 }
		set_variable = { which = wc_mentor_experience_rogue 			value = 0 }
		set_variable = { which = wc_mentor_experience_warlock 			value = 0 }
		set_variable = { which = wc_mentor_experience_shaman 			value = 0 }
		set_variable = { which = wc_mentor_experience_druid 			value = 0 }
		set_variable = { which = wc_mentor_experience_loa_priest 		value = 0 }
		set_variable = { which = wc_mentor_experience_death_knight 		value = 0 }
		set_variable = { which = wc_mentor_experience_necromancer 		value = 0 }
		set_variable = { which = wc_mentor_experience_shadow_priest 	value = 0 }

		set_variable = { which = wc_experience_difference 				value = 0 }
	}
}
# If character has class and takes new secret one, sets flags to show sham classes to other characters
set_sham_flags_effect = {
	hidden_effect = {
		# if = {
			# limit = {
				# OR = {
					# AND = {
						# is_mage_class_trigger = no
						# OR =  {
							# has_character_modifier = training_self_mage
							# has_character_modifier = training_mentor_mage
						# }
						# is_visible_mage_to_all_trigger = no
					# }
					# AND = {
						# is_warlock_class_trigger = no
						# OR =  {
							# has_character_modifier = training_self_warlock
							# has_character_modifier = training_mentor_warlock
						# }
						# fel_modifier_is_visible_to_all_trigger = no
					# }
					# AND = {
						# is_necromancer_class_trigger = no
						# OR =  {
							# has_character_modifier = training_self_necromancer
							# has_character_modifier = training_mentor_necromancer
						# }
						# necromantic_modifier_is_visible_to_all_trigger = no
					# }
					# AND = {
						# is_shadow_priest_class_trigger = no
						# OR = {
							# has_character_modifier = training_self_shadow_priest
							# has_character_modifier = training_mentor_shadow_priest
						# }
						# void_modifier_is_visible_to_all_trigger = no
					# }
				# }
			# }
			# if = {
				# limit = {
					# NOR = {
						# has_character_flag = is_sham_mage_flag
						# has_character_flag = is_sham_priest_flag
						# has_character_flag = is_sham_shaman_flag
						# has_character_flag = is_sham_druid_flag
						# has_character_flag = is_sham_loa_priest_flag
					# }
				# }
				# if = {
					# limit = {
						# is_mage_class_trigger = yes
						# is_visible_mage_to_all_trigger = yes
					# }
					# set_character_flag = is_sham_mage_flag
				# }
				# if = { limit = { is_priest_class_trigger = yes 		} set_character_flag = is_sham_priest_flag 		}
				# if = { limit = { is_shaman_class_trigger = yes 		} set_character_flag = is_sham_shaman_flag 		}
				# if = { limit = { is_druid_class_trigger = yes 		} set_character_flag = is_sham_druid_flag 		}
				# if = { limit = { is_loa_priest_class_trigger = yes 	} set_character_flag = is_sham_loa_priest_flag 	}
			# }
		# }
	}
}
clr_sham_flag_effect = {
	hidden_effect = {
		if = { limit = { has_character_flag = is_sham_mage_flag } clr_character_flag = is_sham_mage_flag }
		if = { limit = { has_character_flag = is_sham_priest_flag } clr_character_flag = is_sham_priest_flag }
		if = { limit = { has_character_flag = is_sham_shaman_flag } clr_character_flag = is_sham_shaman_flag }
		if = { limit = { has_character_flag = is_sham_druid_flag } clr_character_flag = is_sham_druid_flag }
		if = { limit = { has_character_flag = is_sham_loa_priest_flag } clr_character_flag = is_sham_loa_priest_flag }
	}
}
# Counts experience according class traits
count_experience_effect = {
	hidden_effect = {
		if = {
			limit = { NOT = { check_variable = { which = wc_experience value = 1 } } }
			reset_experience_effect = yes
			if = {
				limit = { is_mage_class_trigger = yes }
				if = {
					limit = { trait = class_mage_1 }
					if = { limit = { is_mage_class_trigger = yes } change_variable = { which = wc_experience value = 1 } }
					change_variable = { which = wc_experience_mage value = 1 }
				}
				if = {
					limit = { trait = class_mage_2 }
					if = { limit = { is_mage_class_trigger = yes } change_variable = { which = wc_experience value = 2 } }
					change_variable = { which = wc_experience_mage value = 2 }
				}
				if = {
					limit = { trait = class_mage_3 }
					if = { limit = { is_mage_class_trigger = yes } change_variable = { which = wc_experience value = 3 } }
					change_variable = { which = wc_experience_mage value = 3 }
				}
				if = {
					limit = { trait = class_mage_4 }
					if = { limit = { is_mage_class_trigger = yes } change_variable = { which = wc_experience value = 4 } }
					change_variable = { which = wc_experience_mage value = 4 }
				}
				if = {
					limit = { trait = class_mage_5 }
					if = { limit = { is_mage_class_trigger = yes } change_variable = { which = wc_experience value = 5 } }
					change_variable = { which = wc_experience_mage value = 5 }
				}
				if = {
					limit = { trait = class_mage_6 }
					if = { limit = { is_mage_class_trigger = yes } change_variable = { which = wc_experience value = 6 } }
					change_variable = { which = wc_experience_mage value = 6 }
				}
				if = {
					limit = { trait = class_mage_7 }
					if = { limit = { is_mage_class_trigger = yes } change_variable = { which = wc_experience value = 7 } }
					change_variable = { which = wc_experience_mage value = 7 }
				}
				if = {
					limit = { trait = class_mage_8 }
					if = { limit = { is_mage_class_trigger = yes } change_variable = { which = wc_experience value = 8 } }
					change_variable = { which = wc_experience_mage value = 8 }
				}
				if = {
					limit = { trait = class_mage_9 }
					if = { limit = { is_mage_class_trigger = yes } change_variable = { which = wc_experience value = 9 } }
					change_variable = { which = wc_experience_mage value = 9 }
				}
				if = {
					limit = { trait = class_mage_10 }
					if = { limit = { is_mage_class_trigger = yes } change_variable = { which = wc_experience value = 10 } }
					change_variable = { which = wc_experience_mage value = 10 }
				}
			}
			if = {
				limit = { trait = class_hunter_1 }
				change_variable = { which = wc_experience value = 1 }
				change_variable = { which = wc_experience_hunter value = 1 }
			}
			if = {
				limit = { trait = class_hunter_2 }
				change_variable = { which = wc_experience value = 2 }
				change_variable = { which = wc_experience_hunter value = 2 }
			}
			if = {
				limit = { trait = class_hunter_3 }
				change_variable = { which = wc_experience value = 3 }
				change_variable = { which = wc_experience_hunter value = 3 }
			}
			if = {
				limit = { trait = class_hunter_4 }
				change_variable = { which = wc_experience value = 4 }
				change_variable = { which = wc_experience_hunter value = 4 }
			}
			if = {
				limit = { trait = class_hunter_5 }
				change_variable = { which = wc_experience value = 5 }
				change_variable = { which = wc_experience_hunter value = 5 }
			}
			if = {
				limit = { trait = class_hunter_6 }
				change_variable = { which = wc_experience value = 6 }
				change_variable = { which = wc_experience_hunter value = 6 }
			}
			if = {
				limit = { trait = class_hunter_7 }
				change_variable = { which = wc_experience value = 7 }
				change_variable = { which = wc_experience_hunter value = 7 }
			}
			if = {
				limit = { trait = class_hunter_8 }
				change_variable = { which = wc_experience value = 8 }
				change_variable = { which = wc_experience_hunter value = 8 }
			}
			if = {
				limit = { trait = class_hunter_9 }
				change_variable = { which = wc_experience value = 9 }
				change_variable = { which = wc_experience_hunter value = 9 }
			}
			if = {
				limit = { trait = class_hunter_10 }
				change_variable = { which = wc_experience value = 10 }
				change_variable = { which = wc_experience_hunter value = 10 }
			}
			if = {
				limit = { trait = class_warrior_1 }
				change_variable = { which = wc_experience value = 1 }
				change_variable = { which = wc_experience_warrior value = 1 }
			}
			if = {
				limit = { trait = class_warrior_2 }
				change_variable = { which = wc_experience value = 2 }
				change_variable = { which = wc_experience_warrior value = 2 }
			}
			if = {
				limit = { trait = class_warrior_3 }
				change_variable = { which = wc_experience value = 3 }
				change_variable = { which = wc_experience_warrior value = 3 }
			}
			if = {
				limit = { trait = class_warrior_4 }
				change_variable = { which = wc_experience value = 4 }
				change_variable = { which = wc_experience_warrior value = 4 }
			}
			if = {
				limit = { trait = class_warrior_5 }
				change_variable = { which = wc_experience value = 5 }
				change_variable = { which = wc_experience_warrior value = 5 }
			}
			if = {
				limit = { trait = class_warrior_6 }
				change_variable = { which = wc_experience value = 6 }
				change_variable = { which = wc_experience_warrior value = 6 }
			}
			if = {
				limit = { trait = class_warrior_7 }
				change_variable = { which = wc_experience value = 7 }
				change_variable = { which = wc_experience_warrior value = 7 }
			}
			if = {
				limit = { trait = class_warrior_8 }
				change_variable = { which = wc_experience value = 8 }
				change_variable = { which = wc_experience_warrior value = 8 }
			}
			if = {
				limit = { trait = class_warrior_9 }
				change_variable = { which = wc_experience value = 9 }
				change_variable = { which = wc_experience_warrior value = 9 }
			}
			if = {
				limit = { trait = class_warrior_10 }
				change_variable = { which = wc_experience value = 10 }
				change_variable = { which = wc_experience_warrior value = 10 }
			}
			if = {
				limit = { trait = class_paladin_1 }
				change_variable = { which = wc_experience value = 1 }
				change_variable = { which = wc_experience_paladin value = 1 }
			}
			if = {
				limit = { trait = class_paladin_2 }
				change_variable = { which = wc_experience value = 2 }
				change_variable = { which = wc_experience_paladin value = 2 }
			}
			if = {
				limit = { trait = class_paladin_3 }
				change_variable = { which = wc_experience value = 3 }
				change_variable = { which = wc_experience_paladin value = 3 }
			}
			if = {
				limit = { trait = class_paladin_4 }
				change_variable = { which = wc_experience value = 4 }
				change_variable = { which = wc_experience_paladin value = 4 }
			}
			if = {
				limit = { trait = class_paladin_5 }
				change_variable = { which = wc_experience value = 5 }
				change_variable = { which = wc_experience_paladin value = 5 }
			}
			if = {
				limit = { trait = class_paladin_6 }
				change_variable = { which = wc_experience value = 6 }
				change_variable = { which = wc_experience_paladin value = 6 }
			}
			if = {
				limit = { trait = class_paladin_7 }
				change_variable = { which = wc_experience value = 7 }
				change_variable = { which = wc_experience_paladin value = 7 }
			}
			if = {
				limit = { trait = class_paladin_8 }
				change_variable = { which = wc_experience value = 8 }
				change_variable = { which = wc_experience_paladin value = 8 }
			}
			if = {
				limit = { trait = class_paladin_9 }
				change_variable = { which = wc_experience value = 9 }
				change_variable = { which = wc_experience_paladin value = 9 }
			}
			if = {
				limit = { trait = class_paladin_10 }
				change_variable = { which = wc_experience value = 10 }
				change_variable = { which = wc_experience_paladin value = 10 }
			}
			if = {
				limit = { is_priest_class_trigger = yes }
				if = {
					limit = { trait = class_priest_1 }
					if = { limit = { is_priest_class_trigger = yes } change_variable = { which = wc_experience value = 1 } }
					change_variable = { which = wc_experience_priest value = 1 }
				}
				if = {
					limit = { trait = class_priest_2 }
					if = { limit = { is_priest_class_trigger = yes } change_variable = { which = wc_experience value = 2 } }
					change_variable = { which = wc_experience_priest value = 2 }
				}
				if = {
					limit = { trait = class_priest_3 }
					if = { limit = { is_priest_class_trigger = yes } change_variable = { which = wc_experience value = 3 } }
					change_variable = { which = wc_experience_priest value = 3 }
				}
				if = {
					limit = { trait = class_priest_4 }
					if = { limit = { is_priest_class_trigger = yes } change_variable = { which = wc_experience value = 4 } }
					change_variable = { which = wc_experience_priest value = 4 }
				}
				if = {
					limit = { trait = class_priest_5 }
					if = { limit = { is_priest_class_trigger = yes } change_variable = { which = wc_experience value = 5 } }
					change_variable = { which = wc_experience_priest value = 5 }
				}
				if = {
					limit = { trait = class_priest_6 }
					if = { limit = { is_priest_class_trigger = yes } change_variable = { which = wc_experience value = 6 } }
					change_variable = { which = wc_experience_priest value = 6 }
				}
				if = {
					limit = { trait = class_priest_7 }
					if = { limit = { is_priest_class_trigger = yes } change_variable = { which = wc_experience value = 7 } }
					change_variable = { which = wc_experience_priest value = 7 }
				}
				if = {
					limit = { trait = class_priest_8 }
					if = { limit = { is_priest_class_trigger = yes } change_variable = { which = wc_experience value = 8 } }
					change_variable = { which = wc_experience_priest value = 8 }
				}
				if = {
					limit = { trait = class_priest_9 }
					if = { limit = { is_priest_class_trigger = yes } change_variable = { which = wc_experience value = 9 } }
					change_variable = { which = wc_experience_priest value = 9 }
				}
				if = {
					limit = { trait = class_priest_10 }
					if = { limit = { is_priest_class_trigger = yes } change_variable = { which = wc_experience value = 10 } }
					change_variable = { which = wc_experience_priest value = 10 }
				}
			}
			if = {
				limit = { trait = class_rogue_1 }
				change_variable = { which = wc_experience value = 1 }
				change_variable = { which = wc_experience_rogue value = 1 }
			}
			if = {
				limit = { trait = class_rogue_2 }
				change_variable = { which = wc_experience value = 2 }
				change_variable = { which = wc_experience_rogue value = 2 }
			}
			if = {
				limit = { trait = class_rogue_3 }
				change_variable = { which = wc_experience value = 3 }
				change_variable = { which = wc_experience_rogue value = 3 }
			}
			if = {
				limit = { trait = class_rogue_4 }
				change_variable = { which = wc_experience value = 4 }
				change_variable = { which = wc_experience_rogue value = 4 }
			}
			if = {
				limit = { trait = class_rogue_5 }
				change_variable = { which = wc_experience value = 5 }
				change_variable = { which = wc_experience_rogue value = 5 }
			}
			if = {
				limit = { trait = class_rogue_6 }
				change_variable = { which = wc_experience value = 6 }
				change_variable = { which = wc_experience_rogue value = 6 }
			}
			if = {
				limit = { trait = class_rogue_7 }
				change_variable = { which = wc_experience value = 7 }
				change_variable = { which = wc_experience_rogue value = 7 }
			}
			if = {
				limit = { trait = class_rogue_8 }
				change_variable = { which = wc_experience value = 8 }
				change_variable = { which = wc_experience_rogue value = 8 }
			}
			if = {
				limit = { trait = class_rogue_9 }
				change_variable = { which = wc_experience value = 9 }
				change_variable = { which = wc_experience_rogue value = 9 }
			}
			if = {
				limit = { trait = class_rogue_10 }
				change_variable = { which = wc_experience value = 10 }
				change_variable = { which = wc_experience_rogue value = 10 }
			}
			if = {
				limit = { trait = class_warlock_1 }
				change_variable = { which = wc_experience value = 1 }
				change_variable = { which = wc_experience_warlock value = 1 }
			}
			if = {
				limit = { trait = class_warlock_2 }
				change_variable = { which = wc_experience value = 2 }
				change_variable = { which = wc_experience_warlock value = 2 }
			}
			if = {
				limit = { trait = class_warlock_3 }
				change_variable = { which = wc_experience value = 3 }
				change_variable = { which = wc_experience_warlock value = 3 }
			}
			if = {
				limit = { trait = class_warlock_4 }
				change_variable = { which = wc_experience value = 4 }
				change_variable = { which = wc_experience_warlock value = 4 }
			}
			if = {
				limit = { trait = class_warlock_5 }
				change_variable = { which = wc_experience value = 5 }
				change_variable = { which = wc_experience_warlock value = 5 }
			}
			if = {
				limit = { trait = class_warlock_6 }
				change_variable = { which = wc_experience value = 6 }
				change_variable = { which = wc_experience_warlock value = 6 }
			}
			if = {
				limit = { trait = class_warlock_7 }
				change_variable = { which = wc_experience value = 7 }
				change_variable = { which = wc_experience_warlock value = 7 }
			}
			if = {
				limit = { trait = class_warlock_8 }
				change_variable = { which = wc_experience value = 8 }
				change_variable = { which = wc_experience_warlock value = 8 }
			}
			if = {
				limit = { trait = class_warlock_9 }
				change_variable = { which = wc_experience value = 9 }
				change_variable = { which = wc_experience_warlock value = 9 }
			}
			if = {
				limit = { trait = class_warlock_10 }
				change_variable = { which = wc_experience value = 10 }
				change_variable = { which = wc_experience_warlock value = 10 }
			}
			if = {
				limit = { is_shaman_class_trigger = yes }
				if = {
					limit = { trait = class_shaman_1 }
					if = { limit = { is_shaman_class_trigger = yes } change_variable = { which = wc_experience value = 1 } }
					change_variable = { which = wc_experience_shaman value = 1 }
				}
				if = {
					limit = { trait = class_shaman_2 }
					if = { limit = { is_shaman_class_trigger = yes } change_variable = { which = wc_experience value = 2 } }
					change_variable = { which = wc_experience_shaman value = 2 }
				}
				if = {
					limit = { trait = class_shaman_3 }
					if = { limit = { is_shaman_class_trigger = yes } change_variable = { which = wc_experience value = 3 } }
					change_variable = { which = wc_experience_shaman value = 3 }
				}
				if = {
					limit = { trait = class_shaman_4 }
					if = { limit = { is_shaman_class_trigger = yes } change_variable = { which = wc_experience value = 4 } }
					change_variable = { which = wc_experience_shaman value = 4 }
				}
				if = {
					limit = { trait = class_shaman_5 }
					if = { limit = { is_shaman_class_trigger = yes } change_variable = { which = wc_experience value = 5 } }
					change_variable = { which = wc_experience_shaman value = 5 }
				}
				if = {
					limit = { trait = class_shaman_6 }
					if = { limit = { is_shaman_class_trigger = yes } change_variable = { which = wc_experience value = 6 } }
					change_variable = { which = wc_experience_shaman value = 6 }
				}
				if = {
					limit = { trait = class_shaman_7 }
					if = { limit = { is_shaman_class_trigger = yes } change_variable = { which = wc_experience value = 7 } }
					change_variable = { which = wc_experience_shaman value = 7 }
				}
				if = {
					limit = { trait = class_shaman_8 }
					if = { limit = { is_shaman_class_trigger = yes } change_variable = { which = wc_experience value = 8 } }
					change_variable = { which = wc_experience_shaman value = 8 }
				}
				if = {
					limit = { trait = class_shaman_9 }
					if = { limit = { is_shaman_class_trigger = yes } change_variable = { which = wc_experience value = 9 } }
					change_variable = { which = wc_experience_shaman value = 9 }
				}
				if = {
					limit = { trait = class_shaman_10 }
					if = { limit = { is_shaman_class_trigger = yes } change_variable = { which = wc_experience value = 10 } }
					change_variable = { which = wc_experience_shaman value = 10 }
				}
			}
			if = {
				limit = { is_druid_class_trigger = yes }
				if = {
					limit = { trait = class_druid_1 }
					if = { limit = { is_druid_class_trigger = yes } change_variable = { which = wc_experience value = 1 } }
					change_variable = { which = wc_experience_druid value = 1 }
				}
				if = {
					limit = { trait = class_druid_2 }
					if = { limit = { is_druid_class_trigger = yes } change_variable = { which = wc_experience value = 2 } }
					change_variable = { which = wc_experience_druid value = 2 }
				}
				if = {
					limit = { trait = class_druid_3 }
					if = { limit = { is_druid_class_trigger = yes } change_variable = { which = wc_experience value = 3 } }
					change_variable = { which = wc_experience_druid value = 3 }
				}
				if = {
					limit = { trait = class_druid_4 }
					if = { limit = { is_druid_class_trigger = yes } change_variable = { which = wc_experience value = 4 } }
					change_variable = { which = wc_experience_druid value = 4 }
				}
				if = {
					limit = { trait = class_druid_5 }
					if = { limit = { is_druid_class_trigger = yes } change_variable = { which = wc_experience value = 5 } }
					change_variable = { which = wc_experience_druid value = 5 }
				}
				if = {
					limit = { trait = class_druid_6 }
					if = { limit = { is_druid_class_trigger = yes } change_variable = { which = wc_experience value = 6 } }
					change_variable = { which = wc_experience_druid value = 6 }
				}
				if = {
					limit = { trait = class_druid_7 }
					if = { limit = { is_druid_class_trigger = yes } change_variable = { which = wc_experience value = 7 } }
					change_variable = { which = wc_experience_druid value = 7 }
				}
				if = {
					limit = { trait = class_druid_8 }
					if = { limit = { is_druid_class_trigger = yes } change_variable = { which = wc_experience value = 8 } }
					change_variable = { which = wc_experience_druid value = 8 }
				}
				if = {
					limit = { trait = class_druid_9 }
					if = { limit = { is_druid_class_trigger = yes } change_variable = { which = wc_experience value = 9 } }
					change_variable = { which = wc_experience_druid value = 9 }
				}
				if = {
					limit = { trait = class_druid_10 }
					if = { limit = { is_druid_class_trigger = yes } change_variable = { which = wc_experience value = 10 } }
					change_variable = { which = wc_experience_druid value = 10 }
				}
			}
			if = {
				limit = { is_loa_priest_class_trigger = yes }
				if = {
					limit = { trait = class_loa_priest_1 }
					if = { limit = { is_loa_priest_class_trigger = yes } change_variable = { which = wc_experience value = 1 } }
					change_variable = { which = wc_experience_loa_priest value = 1 }
				}
				if = {
					limit = { trait = class_loa_priest_2 }
					if = { limit = { is_loa_priest_class_trigger = yes } change_variable = { which = wc_experience value = 2 } }
					change_variable = { which = wc_experience_loa_priest value = 2 }
				}
				if = {
					limit = { trait = class_loa_priest_3 }
					if = { limit = { is_loa_priest_class_trigger = yes } change_variable = { which = wc_experience value = 3 } }
					change_variable = { which = wc_experience_loa_priest value = 3 }
				}
				if = {
					limit = { trait = class_loa_priest_4 }
					if = { limit = { is_loa_priest_class_trigger = yes } change_variable = { which = wc_experience value = 4 } }
					change_variable = { which = wc_experience_loa_priest value = 4 }
				}
				if = {
					limit = { trait = class_loa_priest_5 }
					if = { limit = { is_loa_priest_class_trigger = yes } change_variable = { which = wc_experience value = 5 } }
					change_variable = { which = wc_experience_loa_priest value = 5 }
				}
				if = {
					limit = { trait = class_loa_priest_6 }
					if = { limit = { is_loa_priest_class_trigger = yes } change_variable = { which = wc_experience value = 6 } }
					change_variable = { which = wc_experience_loa_priest value = 6 }
				}
				if = {
					limit = { trait = class_loa_priest_7 }
					if = { limit = { is_loa_priest_class_trigger = yes } change_variable = { which = wc_experience value = 7 } }
					change_variable = { which = wc_experience_loa_priest value = 7 }
				}
				if = {
					limit = { trait = class_loa_priest_8 }
					if = { limit = { is_loa_priest_class_trigger = yes } change_variable = { which = wc_experience value = 8 } }
					change_variable = { which = wc_experience_loa_priest value = 8 }
				}
				if = {
					limit = { trait = class_loa_priest_9 }
					if = { limit = { is_loa_priest_class_trigger = yes } change_variable = { which = wc_experience value = 9 } }
					change_variable = { which = wc_experience_loa_priest value = 9 }
				}
				if = {
					limit = { trait = class_loa_priest_10 }
					if = { limit = { is_loa_priest_class_trigger = yes } change_variable = { which = wc_experience value = 10 } }
					change_variable = { which = wc_experience_loa_priest value = 10 }
				}
			}
			if = {
				limit = { trait = class_death_knight_1 }
				change_variable = { which = wc_experience value = 1 }
				change_variable = { which = wc_experience_death_knight value = 1 }
			}
			if = {
				limit = { trait = class_death_knight_2 }
				change_variable = { which = wc_experience value = 2 }
				change_variable = { which = wc_experience_death_knight value = 2 }
			}
			if = {
				limit = { trait = class_death_knight_3 }
				change_variable = { which = wc_experience value = 3 }
				change_variable = { which = wc_experience_death_knight value = 3 }
			}
			if = {
				limit = { trait = class_death_knight_4 }
				change_variable = { which = wc_experience value = 4 }
				change_variable = { which = wc_experience_death_knight value = 4 }
			}
			if = {
				limit = { trait = class_death_knight_5 }
				change_variable = { which = wc_experience value = 5 }
				change_variable = { which = wc_experience_death_knight value = 5 }
			}
			if = {
				limit = { trait = class_death_knight_6 }
				change_variable = { which = wc_experience value = 6 }
				change_variable = { which = wc_experience_death_knight value = 6 }
			}
			if = {
				limit = { trait = class_death_knight_7 }
				change_variable = { which = wc_experience value = 7 }
				change_variable = { which = wc_experience_death_knight value = 7 }
			}
			if = {
				limit = { trait = class_death_knight_8 }
				change_variable = { which = wc_experience value = 8 }
				change_variable = { which = wc_experience_death_knight value = 8 }
			}
			if = {
				limit = { trait = class_death_knight_9 }
				change_variable = { which = wc_experience value = 9 }
				change_variable = { which = wc_experience_death_knight value = 9 }
			}
			if = {
				limit = { trait = class_death_knight_10 }
				change_variable = { which = wc_experience value = 10 }
				change_variable = { which = wc_experience_death_knight value = 10 }
			}
			if = {
				limit = { trait = class_necromancer_1 }
				change_variable = { which = wc_experience value = 1 }
				change_variable = { which = wc_experience_necromancer value = 1 }
			}
			if = {
				limit = { trait = class_necromancer_2 }
				change_variable = { which = wc_experience value = 2 }
				change_variable = { which = wc_experience_necromancer value = 2 }
			}
			if = {
				limit = { trait = class_necromancer_3 }
				change_variable = { which = wc_experience value = 3 }
				change_variable = { which = wc_experience_necromancer value = 3 }
			}
			if = {
				limit = { trait = class_necromancer_4 }
				change_variable = { which = wc_experience value = 4 }
				change_variable = { which = wc_experience_necromancer value = 4 }
			}
			if = {
				limit = { trait = class_necromancer_5 }
				change_variable = { which = wc_experience value = 5 }
				change_variable = { which = wc_experience_necromancer value = 5 }
			}
			if = {
				limit = { trait = class_necromancer_6 }
				change_variable = { which = wc_experience value = 6 }
				change_variable = { which = wc_experience_necromancer value = 6 }
			}
			if = {
				limit = { trait = class_necromancer_7 }
				change_variable = { which = wc_experience value = 7 }
				change_variable = { which = wc_experience_necromancer value = 7 }
			}
			if = {
				limit = { trait = class_necromancer_8 }
				change_variable = { which = wc_experience value = 8 }
				change_variable = { which = wc_experience_necromancer value = 8 }
			}
			if = {
				limit = { trait = class_necromancer_9 }
				change_variable = { which = wc_experience value = 9 }
				change_variable = { which = wc_experience_necromancer value = 9 }
			}
			if = {
				limit = { trait = class_necromancer_10 }
				change_variable = { which = wc_experience value = 10 }
				change_variable = { which = wc_experience_necromancer value = 10 }
			}
			if = {
				limit = { trait = class_shadow_priest_1 }
				change_variable = { which = wc_experience value = 1 }
				change_variable = { which = wc_experience_shadow_priest value = 1 }
			}
			if = {
				limit = { trait = class_shadow_priest_2 }
				change_variable = { which = wc_experience value = 2 }
				change_variable = { which = wc_experience_shadow_priest value = 2 }
			}
			if = {
				limit = { trait = class_shadow_priest_3 }
				change_variable = { which = wc_experience value = 3 }
				change_variable = { which = wc_experience_shadow_priest value = 3 }
			}
			if = {
				limit = { trait = class_shadow_priest_4 }
				change_variable = { which = wc_experience value = 4 }
				change_variable = { which = wc_experience_shadow_priest value = 4 }
			}
			if = {
				limit = { trait = class_shadow_priest_5 }
				change_variable = { which = wc_experience value = 5 }
				change_variable = { which = wc_experience_shadow_priest value = 5 }
			}
			if = {
				limit = { trait = class_shadow_priest_6 }
				change_variable = { which = wc_experience value = 6 }
				change_variable = { which = wc_experience_shadow_priest value = 6 }
			}
			if = {
				limit = { trait = class_shadow_priest_7 }
				change_variable = { which = wc_experience value = 7 }
				change_variable = { which = wc_experience_shadow_priest value = 7 }
			}
			if = {
				limit = { trait = class_shadow_priest_8 }
				change_variable = { which = wc_experience value = 8 }
				change_variable = { which = wc_experience_shadow_priest value = 8 }
			}
			if = {
				limit = { trait = class_shadow_priest_9 }
				change_variable = { which = wc_experience value = 9 }
				change_variable = { which = wc_experience_shadow_priest value = 9 }
			}
			if = {
				limit = { trait = class_shadow_priest_10 }
				change_variable = { which = wc_experience value = 10 }
				change_variable = { which = wc_experience_shadow_priest value = 10 }
			}
		}
	}
}
# MUST BE USED AT EVERY CLASS CHANGE (add_class_trait_effect) IN "immediate" BLOCK
# Resets/transfers experience from old class to new one
recount_experience_effect = {
	hidden_effect = {
		set_sham_flags_effect = yes
		count_experience_effect = yes
		if = {
			limit = {
				OR = {
					has_character_modifier = training_self_mage
					has_character_modifier = training_mentor_mage
				}
			}
			# Priest
			if = {
				limit = { is_priest_class_trigger = yes }
				change_variable = { which = wc_experience_mage			which = wc_experience_priest			}
				set_variable = { which = wc_experience_priest value = 0 }
			}

			# Warlock
			change_variable = { which = wc_experience_mage			which = wc_experience_warlock				}
			set_variable = { which = wc_experience_warlock 		value = 0												}

			# Shaman
			if = {
				limit = { is_shaman_class_trigger = yes }
				change_variable = { which = wc_experience_mage			which = wc_experience_shaman			}
				set_variable = { which = wc_experience_shaman value = 0 }
			}

			# Druid
			if = {
				limit = { is_druid_class_trigger = yes }
				change_variable = { which = wc_experience_mage			which = wc_experience_druid				}
				set_variable = { which = wc_experience_druid value = 0 }
			}

			# Loa Priest
			if = {
				limit = { is_loa_priest_class_trigger = yes }
				change_variable = { which = wc_experience_mage			which = wc_experience_loa_priest		}
				set_variable = { which = wc_experience_loa_priest value = 0 }
			}

			# Necromancer
			change_variable = { which = wc_experience_mage			which = wc_experience_necromancer			}
			set_variable = { which = wc_experience_necromancer 	value = 0												}

			# Shadow Priest
			change_variable = { which = wc_experience_mage			which = wc_experience_shadow_priest			}
			set_variable = { which = wc_experience_shadow_priest 	value = 0												}
		}
		if = {
			limit = {
				OR = {
					has_character_modifier = training_self_warrior
					has_character_modifier = training_mentor_warrior
				}
			}
			# Hunter
			change_variable = { which = wc_experience_warrior			which = wc_experience_hunter				}
			set_variable = { which = wc_experience_hunter 			value = 0												}

			# Paladin
			change_variable = { which = wc_experience_warrior			which = wc_experience_paladin				}
			set_variable = { which = wc_experience_paladin 		value = 0												}

			# Rogue
			change_variable = { which = wc_experience_warrior			which = wc_experience_rogue					}
			set_variable = { which = wc_experience_rogue 			value = 0												}

			# Death Knight
			change_variable = { which = wc_experience_warrior			which = wc_experience_death_knight			}
			set_variable = { which = wc_experience_death_knight 	value = 0												}
		}
		if = {
			limit = {
				OR = {
					has_character_modifier = training_self_paladin
					has_character_modifier = training_mentor_paladin
				}
			}
			set_variable = { which = wc_experience_mage 				value = 0							}
			set_variable = { which = wc_experience_hunter 				value = 0							}
			set_variable = { which = wc_experience_warrior 				value = 0							}
			set_variable = { which = wc_experience_paladin 				value = 0							}
			set_variable = { which = wc_experience_priest 				value = 0							}
			set_variable = { which = wc_experience_rogue 				value = 0							}
			set_variable = { which = wc_experience_warlock 				value = 0							}
			set_variable = { which = wc_experience_shaman 				value = 0							}
			set_variable = { which = wc_experience_druid 				value = 0							}
			set_variable = { which = wc_experience_loa_priest 			value = 0							}
			set_variable = { which = wc_experience_death_knight 		value = 0 							}
			set_variable = { which = wc_experience_necromancer 			value = 0 							}
			set_variable = { which = wc_experience_shadow_priest 		value = 0							}
			set_variable = { which = wc_experience_paladin 				which = wc_experience }
		}
		if = {
			limit = {
				OR = {
					has_character_modifier = training_self_priest
					has_character_modifier = training_mentor_priest
				}
			}
			# Mage
			if = {
				limit = { is_mage_class_trigger = yes }
				change_variable = { which = wc_experience_priest			which = wc_experience_mage				}
				set_variable = { which = wc_experience_mage value = 0 }
			}

			# Warlock
			change_variable = { which = wc_experience_priest			which = wc_experience_warlock				}
			set_variable = { which = wc_experience_warlock 		value = 0												}

			# Shaman
			if = {
				limit = { is_shaman_class_trigger = yes }
				change_variable = { which = wc_experience_priest			which = wc_experience_shaman			}
				set_variable = { which = wc_experience_shaman value = 0 }
			}

			# Druid
			if = {
				limit = { is_druid_class_trigger = yes }
				change_variable = { which = wc_experience_priest			which = wc_experience_druid				}
				set_variable = { which = wc_experience_druid value = 0 }
			}

			# Loa Priest
			if = {
				limit = { is_loa_priest_class_trigger = yes }
				change_variable = { which = wc_experience_priest			which = wc_experience_loa_priest		}
				set_variable = { which = wc_experience_loa_priest value = 0 }
			}

			# Necromancer
			change_variable = { which = wc_experience_priest			which = wc_experience_necromancer			}
			set_variable = { which = wc_experience_necromancer 	value = 0												}

			# Shadow Priest
			change_variable = { which = wc_experience_priest			which = wc_experience_shadow_priest			}
			set_variable = { which = wc_experience_shadow_priest 	value = 0												}
		}
		if = {
			limit = {
				OR = {
					has_character_modifier = training_self_warlock
					has_character_modifier = training_mentor_warlock
				}
			}
			# Mage
			if = {
				limit = { is_mage_class_trigger = yes }
				change_variable = { which = wc_experience_warlock			which = wc_experience_mage				}
				set_variable = { which = wc_experience_mage value = 0 }
			}

			# Priest
			if = {
				limit = { is_priest_class_trigger = yes }
				change_variable = { which = wc_experience_warlock			which = wc_experience_priest			}
				set_variable = { which = wc_experience_priest value = 0 }
			}

			# Shaman
			if = {
				limit = { is_shaman_class_trigger = yes }
				change_variable = { which = wc_experience_warlock			which = wc_experience_shaman			}
				set_variable = { which = wc_experience_shaman value = 0 }
			}

			# Druid
			if = {
				limit = { is_druid_class_trigger = yes }
				change_variable = { which = wc_experience_warlock			which = wc_experience_druid				}
				set_variable = { which = wc_experience_druid value = 0 }
			}

			# Loa Priest
			if = {
				limit = { is_loa_priest_class_trigger = yes }
				change_variable = { which = wc_experience_warlock			which = wc_experience_loa_priest		}
				set_variable = { which = wc_experience_loa_priest value = 0 }
			}

			# Necromancer
			change_variable = { which = wc_experience_warlock			which = wc_experience_necromancer			}
			set_variable = { which = wc_experience_necromancer 	value = 0												}

			# Shadow Priest
			change_variable = { which = wc_experience_warlock			which = wc_experience_shadow_priest			}
			set_variable = { which = wc_experience_shadow_priest 	value = 0												}
		}
		if = {
			limit = {
				OR = {
					has_character_modifier = training_self_shaman
					has_character_modifier = training_mentor_shaman
				}
			}
			# Mage
			if = {
				limit = { is_mage_class_trigger = yes }
				change_variable = { which = wc_experience_shaman			which = wc_experience_mage				}
				set_variable = { which = wc_experience_mage value = 0 }
			}

			# Priest
			if = {
				limit = { is_priest_class_trigger = yes }
				change_variable = { which = wc_experience_shaman			which = wc_experience_priest			}
				set_variable = { which = wc_experience_priest value = 0 }
			}

			# Warlock
			change_variable = { which = wc_experience_shaman			which = wc_experience_warlock				}
			set_variable = { which = wc_experience_warlock 		value = 0												}

			# Druid
			if = {
				limit = { is_druid_class_trigger = yes }
				change_variable = { which = wc_experience_shaman			which = wc_experience_druid				}
				set_variable = { which = wc_experience_druid value = 0 }
			}

			# Loa Priest
			if = {
				limit = { is_loa_priest_class_trigger = yes }
				change_variable = { which = wc_experience_shaman			which = wc_experience_loa_priest		}
				set_variable = { which = wc_experience_loa_priest value = 0 }
			}

			# Necromancer
			change_variable = { which = wc_experience_shaman			which = wc_experience_necromancer			}
			set_variable = { which = wc_experience_necromancer 	value = 0												}

			# Shadow Priest
			change_variable = { which = wc_experience_shaman			which = wc_experience_shadow_priest			}
			set_variable = { which = wc_experience_shadow_priest 	value = 0												}
		}
		if = {
			limit = {
				OR = {
					has_character_modifier = training_self_druid
					has_character_modifier = training_mentor_druid
				}
			}
			# Mage
			if = {
				limit = { is_mage_class_trigger = yes }
				change_variable = { which = wc_experience_druid			which = wc_experience_mage				}
				set_variable = { which = wc_experience_mage value = 0 }
			}

			# Priest
			if = {
				limit = { is_priest_class_trigger = yes }
				change_variable = { which = wc_experience_druid			which = wc_experience_priest			}
				set_variable = { which = wc_experience_priest value = 0 }
			}

			# Warlock
			change_variable = { which = wc_experience_druid			which = wc_experience_warlock				}
			set_variable = { which = wc_experience_warlock			value = 0												}

			# Shaman
			if = {
				limit = { is_shaman_class_trigger = yes }
				change_variable = { which = wc_experience_druid			which = wc_experience_shaman			}
				set_variable = { which = wc_experience_shaman value = 0	}
			}

			# Loa Priest
			if = {
				limit = { is_loa_priest_class_trigger = yes }
				change_variable = { which = wc_experience_druid			which = wc_experience_loa_priest		}
				set_variable = { which = wc_experience_loa_priest value = 0 }
			}

			# Necromancer
			change_variable = { which = wc_experience_druid			which = wc_experience_necromancer			}
			set_variable = { which = wc_experience_necromancer 	value = 0												}

			# Shadow Priest
			change_variable = { which = wc_experience_druid			which = wc_experience_shadow_priest			}
			set_variable = { which = wc_experience_shadow_priest	value = 0												}
		}
		if = {
			limit = {
				OR = {
					has_character_modifier = training_self_loa_priest
					has_character_modifier = training_mentor_loa_priest
				}
			}
			# Mage
			if = {
				limit = { is_mage_class_trigger = yes }
				change_variable = { which = wc_experience_loa_priest		which = wc_experience_mage				}
				set_variable = { which = wc_experience_mage value = 0 }
			}

			# Priest
			if = {
				limit = { is_priest_class_trigger = yes }
				change_variable = { which = wc_experience_loa_priest		which = wc_experience_priest			}
				set_variable = { which = wc_experience_priest value = 0 }
			}

			# Warlock
			change_variable = { which = wc_experience_loa_priest		which = wc_experience_warlock				}
			set_variable = { which = wc_experience_warlock			value = 0												}

			# Shaman
			if = {
				limit = { is_shaman_class_trigger = yes }
				change_variable = { which = wc_experience_loa_priest	which = wc_experience_shaman				}
				set_variable = { which = wc_experience_shaman value = 0 }
			}

			# Druid
			if = {
				limit = { is_druid_class_trigger = yes }
				change_variable = { which = wc_experience_loa_priest		which = wc_experience_druid				}
				set_variable = { which = wc_experience_druid value = 0 }
			}

			# Necromancer
			change_variable = { which = wc_experience_loa_priest		which = wc_experience_necromancer			}
			set_variable = { which = wc_experience_necromancer 	value = 0												}

			# Shadow Priest
			change_variable = { which = wc_experience_loa_priest		which = wc_experience_shadow_priest			}
			set_variable = { which = wc_experience_shadow_priest	value = 0												}
		}
		if = {
			limit = {
				OR = {
					has_character_modifier = training_self_death_knight
					has_character_modifier = training_mentor_death_knight
				}
			}
			set_variable = { which = wc_experience_mage 				value = 0							}
			set_variable = { which = wc_experience_hunter 				value = 0							}
			set_variable = { which = wc_experience_warrior 				value = 0							}
			set_variable = { which = wc_experience_paladin 				value = 0							}
			set_variable = { which = wc_experience_priest 				value = 0							}
			set_variable = { which = wc_experience_rogue 				value = 0							}
			set_variable = { which = wc_experience_warlock 				value = 0							}
			set_variable = { which = wc_experience_shaman 				value = 0							}
			set_variable = { which = wc_experience_druid 				value = 0							}
			set_variable = { which = wc_experience_loa_priest 			value = 0							}
			set_variable = { which = wc_experience_death_knight 		value = 0 							}
			set_variable = { which = wc_experience_necromancer 			value = 0 							}
			set_variable = { which = wc_experience_shadow_priest 		value = 0							}
			set_variable = { which = wc_experience_death_knight 		which = wc_experience	}
		}
		if = {
			limit = {
				OR = {
					has_character_modifier = training_self_necromancer
					has_character_modifier = training_mentor_necromancer
				}
			}
			# Mage
			if = {
				limit = { is_mage_class_trigger = yes }
				change_variable = { which = wc_experience_necromancer		which = wc_experience_mage					}
				set_variable = { which = wc_experience_mage value = 0 }
			}

			# Priest
			if = {
				limit = { is_priest_class_trigger = yes }
				change_variable = { which = wc_experience_necromancer		which = wc_experience_priest				}
				set_variable = { which = wc_experience_priest value = 0 }
			}

			# Warlock
			change_variable = { which = wc_experience_necromancer		which = wc_experience_warlock				}
			set_variable = { which = wc_experience_warlock 		value = 0												}

			# Shaman
			if = {
				limit = { is_shaman_class_trigger = yes }
				change_variable = { which = wc_experience_necromancer		which = wc_experience_shaman				}
				set_variable = { which = wc_experience_shaman value = 0 }
			}

			# Druid
			if = {
				limit = { is_druid_class_trigger = yes }
				change_variable = { which = wc_experience_necromancer		which = wc_experience_druid					}
				set_variable = { which = wc_experience_druid value = 0 }
			}

			# Loa Priest
			if = {
				limit = { is_loa_priest_class_trigger = yes }
				change_variable = { which = wc_experience_necromancer		which = wc_experience_loa_priest			}
				set_variable = { which = wc_experience_loa_priest value = 0 }
			}

			# Shadow Priest
			change_variable = { which = wc_experience_necromancer		which = wc_experience_shadow_priest			}
			set_variable = { which = wc_experience_shadow_priest 	value = 0												}
		}
		if = {
			limit = {
				OR = {
					has_character_modifier = training_self_shadow_priest
					has_character_modifier = training_mentor_shadow_priest
				}
			}
			# Mage
			if = {
				limit = { is_mage_class_trigger = yes }
				change_variable = { which = wc_experience_shadow_priest	which = wc_experience_mage					}
				set_variable = { which = wc_experience_mage value = 0 }
			}
			# Priest
			if = {
				limit = { is_priest_class_trigger = yes }
				change_variable = { which = wc_experience_shadow_priest	which = wc_experience_priest				}
				set_variable = { which = wc_experience_priest value = 0 }
			}

			# Warlock
			change_variable = { which = wc_experience_shadow_priest	which = wc_experience_warlock				}
			set_variable = { which = wc_experience_warlock 		value = 0												}

			# Shaman
			if = {
				limit = { is_shaman_class_trigger = yes }
				change_variable = { which = wc_experience_shadow_priest	which = wc_experience_shaman				}
				set_variable = { which = wc_experience_shaman value = 0 }
			}

			# Druid
			if = {
				limit = { is_druid_class_trigger = yes }
				change_variable = { which = wc_experience_shadow_priest	which = wc_experience_druid					}
				set_variable = { which = wc_experience_druid value = 0 }
			}

			# Loa Priest
			if = {
				limit = { is_loa_priest_class_trigger = yes }
				change_variable = { which = wc_experience_shadow_priest	which = wc_experience_loa_priest			}
				set_variable = { which = wc_experience_loa_priest value = 0 }
			}

			# Necromancer
			change_variable = { which = wc_experience_shadow_priest	which = wc_experience_necromancer			}
			set_variable = { which = wc_experience_necromancer 	value = 0												}
		}
	}
}

clr_training_mentor_flag_effect = {
	remove_opinion = { who = event_target:mentor modifier = opinion_teaching_me }
	clr_character_flag = sent_letter_to_mentor
	
	clr_character_flag = training_mentor_mage_flag
	clr_character_flag = training_mentor_hunter_flag
	clr_character_flag = training_mentor_warrior_flag
	clr_character_flag = training_mentor_paladin_flag
	clr_character_flag = training_mentor_priest_flag
	clr_character_flag = training_mentor_rogue_flag
	clr_character_flag = training_mentor_warlock_flag
	clr_character_flag = training_mentor_shaman_flag
	clr_character_flag = training_mentor_druid_flag
	clr_character_flag = training_mentor_death_knight_flag
	clr_character_flag = training_mentor_loa_priest_flag
	clr_character_flag = training_mentor_necromancer_flag
	clr_character_flag = training_mentor_shadow_priest_flag
}
remove_training_modifiers_effect = {
	if = { limit = { has_character_modifier = training_self_mage				} remove_character_modifier = training_self_mage					}
	if = { limit = { has_character_modifier = training_self_hunter				} remove_character_modifier = training_self_hunter				}
	if = { limit = { has_character_modifier = training_self_warrior				} remove_character_modifier = training_self_warrior				}
	if = { limit = { has_character_modifier = training_self_paladin				} remove_character_modifier = training_self_paladin				}
	if = { limit = { has_character_modifier = training_self_priest				} remove_character_modifier = training_self_priest				}
	if = { limit = { has_character_modifier = training_self_rogue				} remove_character_modifier = training_self_rogue				}
	if = { limit = { has_character_modifier = training_self_warlock				} remove_character_modifier = training_self_warlock				}
	if = { limit = { has_character_modifier = training_self_shaman				} remove_character_modifier = training_self_shaman				}
	if = { limit = { has_character_modifier = training_self_druid				} remove_character_modifier = training_self_druid	   			}
	if = { limit = { has_character_modifier = training_self_loa_priest			} remove_character_modifier = training_self_loa_priest			}
	if = { limit = { has_character_modifier = training_self_death_knight		} remove_character_modifier = training_self_death_knight		}
	if = { limit = { has_character_modifier = training_self_necromancer			} remove_character_modifier = training_self_necromancer			}
	if = { limit = { has_character_modifier = training_self_shadow_priest		} remove_character_modifier = training_self_shadow_priest		}

	if = { limit = { has_character_modifier = training_mentor_mage				} remove_character_modifier = training_mentor_mage				}
	if = { limit = { has_character_modifier = training_mentor_hunter			} remove_character_modifier = training_mentor_hunter				}
	if = { limit = { has_character_modifier = training_mentor_warrior			} remove_character_modifier = training_mentor_warrior			}
	if = { limit = { has_character_modifier = training_mentor_paladin			} remove_character_modifier = training_mentor_paladin			}
	if = { limit = { has_character_modifier = training_mentor_priest			} remove_character_modifier = training_mentor_priest				}
	if = { limit = { has_character_modifier = training_mentor_rogue				} remove_character_modifier = training_mentor_rogue				}
	if = { limit = { has_character_modifier = training_mentor_warlock			} remove_character_modifier = training_mentor_warlock			}
	if = { limit = { has_character_modifier = training_mentor_shaman			} remove_character_modifier = training_mentor_shaman				}
	if = { limit = { has_character_modifier = training_mentor_druid				} remove_character_modifier = training_mentor_druid	   			}
	if = { limit = { has_character_modifier = training_mentor_loa_priest		} remove_character_modifier = training_mentor_loa_priest		}
	if = { limit = { has_character_modifier = training_mentor_death_knight		} remove_character_modifier = training_mentor_death_knight		}
	if = { limit = { has_character_modifier = training_mentor_necromancer		} remove_character_modifier = training_mentor_necromancer		}
	if = { limit = { has_character_modifier = training_mentor_shadow_priest		} remove_character_modifier = training_mentor_shadow_priest		}

	clr_training_mentor_flag_effect = yes
	
	hidden_effect = {
		clear_delayed_event = { id = WCCLS.100 }
		clear_delayed_event = { id = WCCLS.200 }
		clear_delayed_event = { id = WCCLS.300 }
		clear_delayed_event = { id = WCCLS.400 }
		clear_delayed_event = { id = WCCLS.500 }
		clear_delayed_event = { id = WCCLS.600 }
		clear_delayed_event = { id = WCCLS.700 }
		clear_delayed_event = { id = WCCLS.800 }
		clear_delayed_event = { id = WCCLS.900 }
		clear_delayed_event = { id = WCCLS.1000 }
		clear_delayed_event = { id = WCCLS.1100 }
		clear_delayed_event = { id = WCCLS.1200 }
	}
}
remove_racial_traits_effect = {
	# Add new races always at the end
	# Humans
	if = { limit = { trait = creature_human 				} remove_trait = creature_human 				}

	if = { limit = { trait = creature_orc 					} remove_trait = creature_orc 				}
	if = { limit = { trait = creature_ogre 					} remove_trait = creature_ogre 				}
	if = { limit = { trait = creature_troll 				} remove_trait = creature_troll 				}
	if = { limit = { trait = creature_murloc 				} remove_trait = creature_murloc 				}
	if = { limit = { trait = creature_gnoll 				} remove_trait = creature_gnoll 				}
	if = { limit = { trait = creature_kobold 				} remove_trait = creature_kobold 				}
	if = { limit = { trait = creature_dwarf 				} remove_trait = creature_dwarf 				}
	if = { limit = { trait = creature_gnome 				} remove_trait = creature_gnome 				}

	# High elves
	if = { limit = { trait = creature_high_elf 				} remove_trait = creature_high_elf 			}
	if = { limit = { trait = creature_blood_elf 			} remove_trait = creature_blood_elf 			}

	if = { limit = { trait = creature_naga 					} remove_trait = creature_naga 				}

	# Red dragons
	if = { limit = { trait = creature_red_whelp 			} remove_trait = creature_red_whelp 			}
	if = { limit = { trait = creature_red_drake 			} remove_trait = creature_red_drake 			}
	if = { limit = { trait = creature_red_dragon 			} remove_trait = creature_red_dragon 			}
	if = { limit = { trait = creature_red_wyrm 				} remove_trait = creature_red_wyrm 			}

	# Blue dragons
	if = { limit = { trait = creature_blue_whelp 			} remove_trait = creature_blue_whelp 			}
	if = { limit = { trait = creature_blue_drake 			} remove_trait = creature_blue_drake 			}
	if = { limit = { trait = creature_blue_dragon 			} remove_trait = creature_blue_dragon 		}
	if = { limit = { trait = creature_blue_wyrm 			} remove_trait = creature_blue_wyrm 			}

	# Green dragons
	if = { limit = { trait = creature_green_whelp 			} remove_trait = creature_green_whelp 		}
	if = { limit = { trait = creature_green_drake 			} remove_trait = creature_green_drake 		}
	if = { limit = { trait = creature_green_dragon 			} remove_trait = creature_green_dragon 		}
	if = { limit = { trait = creature_green_wyrm 			} remove_trait = creature_green_wyrm 			}

	# Black dragons
	if = { limit = { trait = creature_black_whelp 			} remove_trait = creature_black_whelp 		}
	if = { limit = { trait = creature_black_drake 			} remove_trait = creature_black_drake 		}
	if = { limit = { trait = creature_black_dragon 			} remove_trait = creature_black_dragon 		}
	if = { limit = { trait = creature_black_wyrm 			} remove_trait = creature_black_wyrm 			}

	if = { limit = { trait = creature_goblin 				} remove_trait = creature_goblin 				}
	if = { limit = { trait = creature_pygmy 				} remove_trait = creature_pygmy 				}
	if = { limit = { trait = creature_hozen 				} remove_trait = creature_hozen 				}
	if = { limit = { trait = creature_draenei 				} remove_trait = creature_draenei 			}
	if = { limit = { trait = creature_arakkoa_corrupted 	} remove_trait = creature_arakkoa_corrupted 	}

	# Forms of undead
	if = { limit = { trait = creature_ghoul 				} remove_trait = creature_ghoul 				}
	if = { limit = { trait = creature_wraith 				} remove_trait = creature_wraith 				}
	if = { limit = { trait = creature_banshee 				} remove_trait = creature_banshee 			}
	if = { limit = { trait = creature_plague_eruptor 		} remove_trait = creature_plague_eruptor 		}
	if = { limit = { trait = creature_abomination 			} remove_trait = creature_abomination 		}
	if = { limit = { trait = creature_skeleton 				} remove_trait = creature_skeleton 			}
	if = { limit = { trait = creature_lich 					} remove_trait = creature_lich 				}

	# Demons
	if = { limit = { trait = creature_annihilan 			} remove_trait = creature_annihilan 			}
	if = { limit = { trait = creature_nathrezim				} remove_trait = creature_nathrezim			}
	if = { limit = { trait = creature_eredruin				} remove_trait = creature_eredruin			}
	if = { limit = { trait = creature_fel_orc				} remove_trait = creature_fel_orc				}
	if = { limit = { trait = creature_felblood_elf			} remove_trait = creature_felblood_elf		}
	if = { limit = { trait = creature_satyr					} remove_trait = creature_satyr				}
	if = { limit = { trait = creature_eredar				} remove_trait = creature_eredar				}
	if = { limit = { trait = creature_sayaadi				} remove_trait = creature_sayaadi				}
	if = { limit = { trait = creature_shivarra				} remove_trait = creature_shivarra			}
	if = { limit = { trait = creature_moarg					} remove_trait = creature_moarg				}
	if = { limit = { trait = creature_observer				} remove_trait = creature_observer			}
	if = { limit = { trait = creature_avatar_of_sargeras	} remove_trait = creature_avatar_of_sargeras	}

	# Elementals
	if = { limit = { trait = creature_air_elemental			} remove_trait = creature_air_elemental		}
	if = { limit = { trait = creature_earth_elemental		} remove_trait = creature_earth_elemental   	}
	if = { limit = { trait = creature_fire_elemental		} remove_trait = creature_fire_elemental		}
	if = { limit = { trait = creature_flamewaker			} remove_trait = creature_flamewaker			}
	if = { limit = { trait = creature_water_elemental		} remove_trait = creature_water_elemental   	}

	if = { limit = { trait = creature_iron_dwarf			} remove_trait = creature_iron_dwarf			}
	if = { limit = { trait = creature_vrykul				} remove_trait = creature_vrykul				}
	if = { limit = { trait = creature_tuskarr				} remove_trait = creature_tuskarr				}
	if = { limit = { trait = creature_magnataur				} remove_trait = creature_magnataur			}
	if = { limit = { trait = creature_furbolg				} remove_trait = creature_furbolg				}
	if = { limit = { trait = creature_gorloc				} remove_trait = creature_gorloc				}
	if = { limit = { trait = creature_watcher				} remove_trait = creature_watcher				}
	if = { limit = { trait = creature_wolvar				} remove_trait = creature_wolvar				}
	if = { limit = { trait = creature_taunka				} remove_trait = creature_taunka				}
	if = { limit = { trait = creature_kvaldir				} remove_trait = creature_kvaldir				}
	if = { limit = { trait = creature_nerubian				} remove_trait = creature_nerubian			}
	if = { limit = { trait = creature_harpy					} remove_trait = creature_harpy				}
	if = { limit = { trait = creature_mechagnome			} remove_trait = creature_mechagnome			}
	if = { limit = { trait = creature_earthen				} remove_trait = creature_earthen				}

	# Bronze dragons
	if = { limit = { trait = creature_bronze_whelp			} remove_trait = creature_bronze_whelp		}
	if = { limit = { trait = creature_bronze_drake			} remove_trait = creature_bronze_drake		}
	if = { limit = { trait = creature_bronze_dragon			} remove_trait = creature_bronze_dragon		}
	if = { limit = { trait = creature_bronze_wyrm			} remove_trait = creature_bronze_wyrm			}

	if = { limit = { trait = creature_ice_giant				} remove_trait = creature_ice_giant			}

	if = { limit = { trait = creature_nraqi					} remove_trait = creature_nraqi				}
	if = { limit = { trait = creature_cthraxxi				} remove_trait = creature_cthraxxi			}

	if = { limit = { trait = creature_night_elf				} remove_trait = creature_night_elf			}
	if = { limit = { trait = creature_tauren				} remove_trait = creature_tauren				}
	if = { limit = { trait = creature_centaur				} remove_trait = creature_centaur				}
	if = { limit = { trait = creature_quilboar				} remove_trait = creature_quilboar			}
	if = { limit = { trait = creature_tolvir				} remove_trait = creature_tolvir				}
	if = { limit = { trait = creature_qiraji				} remove_trait = creature_qiraji				}

	if = { limit = { trait = creature_dryad					} remove_trait = creature_dryad			}
	if = { limit = { trait = creature_frostnymph			} remove_trait = creature_frostnymph			}
	if = { limit = { trait = creature_highborne				} remove_trait = creature_highborne			}
	if = { limit = { trait = creature_vulpera				} remove_trait = creature_vulpera			}
	if = { limit = { trait = creature_sethrak				} remove_trait = creature_sethrak			}

	# Infinite dragons
	if = { limit = { trait = creature_infinite_whelp			} remove_trait = creature_infinite_whelp		}
	if = { limit = { trait = creature_infinite_drake			} remove_trait = creature_infinite_drake		}
	if = { limit = { trait = creature_infinite_dragon			} remove_trait = creature_infinite_dragon		}
	if = { limit = { trait = creature_infinitee_wyrm			} remove_trait = creature_infinite_wyrm			}

	# Race-related traits
	if = { limit = { trait = twoheaded 						} remove_trait = twoheaded					}
	if = { limit = { trait = tentacle_arm_mutation 			} remove_trait = tentacle_arm_mutation		}
	if = { limit = { trait = chela_hand_mutation 			} remove_trait = chela_hand_mutation			}
	if = { limit = { trait = chitinous_growths_mutation 	} remove_trait = chitinous_growths_mutation	}
	if = { limit = { trait = spikes_mutation 				} remove_trait = spikes_mutation				}
	if = { limit = { trait = scales_mutation 				} remove_trait = scales_mutation				}
	if = { limit = { trait = eyes_mutation 					} remove_trait = eyes_mutation				}
}
add_plague_of_undead_symptom_effect = {
	random_list = {
		10 = {
			modifier = {
				factor = 0
				trait = cramps
			}
			character_event = { id = RIP.5006 }
		}
		10 = {
			modifier = {
				factor = 0
				trait = cough
			}
			character_event = { id = RIP.5000 }
		}
		10 = {
			modifier = {
				factor = 0
				trait = fatigue
			}
			character_event = { id = RIP.5009 }
		}
	}
}
join_society_shadow_council_effect = {
	join_society = shadow_council
	if = {
		limit = {
			NOR = {
				true_religion = orcish_fel
				true_religion = burning_legion_religion
			}
		}
		if = {
			limit = {
				OR = {
					independent = yes
					liege = {
						NOR = {
							religion = orcish_fel
							religion = burning_legion_religion
						}
					}
				}
			}
			set_secret_religion = burning_legion_religion
		}
		if = {
			limit = {
				independent = no
				liege = { religion = orcish_fel }
			}
			if = { limit = { has_secret_religion = yes } clear_secret_religion = yes }
			religion = orcish_fel
		}
		if = {
			limit = {
				independent = no
				liege = { religion = burning_legion_religion }
			}
			if = { limit = { has_secret_religion = yes } clear_secret_religion = yes }
			religion = burning_legion_religion
		}
	}
}
join_society_cult_of_the_damned_effect = {
	join_society = cult_of_the_damned
	if = {
		limit = { NOT = { true_religion = death_god } }
		if = {
			limit = {
				OR = {
					independent = yes
					liege = { NOT = { religion = death_god } }
				}
			}
			set_secret_religion = death_god
		}
		if = {
			limit = {
				independent = no
				liege = { religion = death_god }
			}
			if = { limit = { has_secret_religion = yes } clear_secret_religion = yes }
			religion = death_god
		}
	}
}
join_society_twilights_hammer_cult_effect = {
	join_society = twilights_hammer_cult
	if = {
		limit = { NOT = { true_religion = old_gods_worship } }
		if = {
			limit = {
				OR = {
					independent = yes
					liege = { NOT = { religion = old_gods_worship } }
				}
			}
			set_secret_religion = old_gods_worship
		}
		if = {
			limit = {
				independent = no
				liege = { religion = old_gods_worship }
			}
			if = { limit = { has_secret_religion = yes } clear_secret_religion = yes }
			religion = old_gods_worship
		}
	}
}
tomb_generate_random_treasury_effect = {
	if = {
		limit = { has_province_flag = tomb_of_sargeras_flag }
		set_variable = { which = tomb_random_room value = 80010 }
	}
	if = {
		limit = { NOT = { has_province_flag = tomb_of_sargeras_flag } }
		random_list = {
			10 = { set_variable = { which = tomb_random_room value = 80000 } }
		}
	}
}
tomb_generate_random_room_effect = {
	random_list = {
		10 = {
			set_variable = { which = tomb_random_room value = 70 }
		}
		10 = {
			set_variable = { which = tomb_random_room value = 50 }
		}
		10 = {
			set_variable = { which = tomb_random_room value = 40 }
		}
		10 = {
			set_variable = { which = tomb_random_room value = 30 }
		}
		10 = {
			set_variable = { which = tomb_random_room value = 10 }
			modifier = { factor = 0 has_province_modifier = mysterious_cave }
		}
	}
}
chose_tomb_expedition_leader_effect = {
	if = {
		limit = {
			liege = { ai = no }
			ai = yes
			NOT = { has_character_flag = special_leader_of_expedition }
		}
		liege = { save_event_target_as = target_leader_of_expedition }
	}
	if = {
		limit = {
			OR = {
				liege = { ai = yes }
				ai = no
				has_character_flag = special_leader_of_expedition
			}
		}
		save_event_target_as = target_leader_of_expedition
	}
}
escape_from_tomb_effect = {
	remove_trait = travelling
	clr_character_flag = on_journey_to_tomb_flag

	if = {
		limit = {
			has_job_title = job_explorer
			has_job_action = action_survey
		}
		cancel_job_action = action_survey
	}
	clr_char_tomb_flags_and_modifiers_effect = yes
	clear_flags_with_prefix = WCTMB_
	event_target:target_tomb_location = { clr_prov_tomb_flags_and_modifiers_effect = yes }
	custom_tooltip = {
		text = escape_from_tomb_effect_tooltip
		hidden_tooltip = {
			character_event = { id = WCTMB.99900 }
		}
	}
}
clr_char_tomb_flags_and_modifiers_effect = {
	clear_flags_with_prefix = WCTMB_room_
}
clr_prov_tomb_flags_and_modifiers_effect = {
	hidden_effect = {
		clr_province_flag = expedition_is_in_tomb_flag
		set_variable = { which = tomb_expedition_location value = 0 }
		if = {
			limit = {
				OR = {
					event_target:target_explorer = { has_character_flag = got_to_treasure_flag }
					has_province_flag = tomb_of_sargeras_flag												# Tomb of Sargeras will be removed when you leave it
				}
			}
			if = {
				limit = { has_province_flag = tomb_of_sargeras_flag }
				clr_province_flag = tomb_of_sargeras_flag
			}
			if = {
				limit = { has_province_modifier = elven_tomb }
				remove_province_modifier = elven_tomb
			}
			if = {
				limit = { has_province_modifier = mysterious_cave }
				remove_province_modifier = mysterious_cave
			}
			if = {
				limit = { has_province_modifier = troll_ruins }
				remove_province_modifier = troll_ruins
			}
			if = {
				limit = { has_province_modifier = human_tomb }
				remove_province_modifier = human_tomb
			}
			if = {
				limit = { has_province_modifier = vrykul_barrow }
				remove_province_modifier = vrykul_barrow
			}
		}
	}
}
fire_next_tomb_event_effect = {
	custom_tooltip = {
		text = fire_next_tomb_event_effect_tooltip
		hidden_tooltip = {
			clr_char_tomb_flags_and_modifiers_effect = yes
			if = {
				limit = {
					OR = {
						event_target:target_leader_of_expedition = { ai = yes }
						event_target:target_tomb_location = { check_variable = { which = tomb_expedition_location value = 3 } }
					}
				}
				set_character_flag = got_to_treasure_flag
				if = {
					limit = { event_target:target_tomb_location = { has_province_flag = tomb_of_sargeras_flag } }
					narrative_event = { id = WCTMB.80010 }
				}
				# Random treasures
				random_list = {
					10 = { narrative_event = { id = WCTMB.80000 } }
				}
			}
			else = {
				event_target:target_tomb_location = { change_variable = { which = tomb_expedition_location value = 1 } }

				# Random rooms
				random_list = {
					10 = {
						set_character_flag = WCTMB_70_fired_flag
						narrative_event = { id = WCTMB.70 }
						modifier = {
							factor = 0
							has_character_flag = WCTMB_70_fired_flag
						}
					}
					10 = {
						set_character_flag = WCTMB_50_fired_flag
						narrative_event = { id = WCTMB.50 }
						modifier = {
							factor = 0
							has_character_flag = WCTMB_50_fired_flag
						}
					}
					10 = {
						set_character_flag = WCTMB_40_fired_flag
						narrative_event = { id = WCTMB.40 }
						modifier = {
							factor = 0
							has_character_flag = WCTMB_40_fired_flag
						}
					}
					10 = {
						set_character_flag = WCTMB_30_fired_flag
						narrative_event = { id = WCTMB.30 }
						modifier = {
							factor = 0
							has_character_flag = WCTMB_30_fired_flag
						}
					}
					10 = {
						set_character_flag = WCTMB_10_fired_flag
						narrative_event = { id = WCTMB.10 }
						modifier = {
							factor = 0
							has_character_flag = WCTMB_10_fired_flag
						}
					}
				}
			}
		}
	}
}
increase_colony = {
	if = {
		limit = { has_province_modifier = colony_3 }
		remove_province_modifier = colony_3
		county = { grant_title_no_opinion = ROOT }
	}
	else = {
		if = {
			limit = { has_province_modifier = colony_2 }
			remove_province_modifier = colony_2
			add_province_modifier = { name = colony_3 duration = -1 }
		}
		else = {
			if = {
				limit = { has_province_modifier = colony_1 }
				remove_province_modifier = colony_1
				add_province_modifier = { name = colony_2 duration = -1 }
			}
			else = {
				add_province_modifier = { name = colony_1 duration = -1 }
				holder_scope = { set_defacto_liege = ROOT }
			}
		}
	}
}
decrease_colony = {
	# if = {
		# limit = { has_province_modifier = colony_1 }
		# remove_province_modifier = colony_1
	# }
	if = {
		limit = { has_province_modifier = colony_2 }
		remove_province_modifier = colony_2
		add_province_modifier = { name = colony_1 duration = -1 }
	}
	if = {
		limit = { has_province_modifier = colony_3 }
		remove_province_modifier = colony_3
		add_province_modifier = { name = colony_2 duration = -1 }
	}
}
clr_all_society_recruitment_flags_effect = {
	clr_character_flag = being_recruited_by_cult_of_the_damned
	clr_character_flag = being_recruited_by_shadow_council
	clr_character_flag = being_recruited_by_twilights_hammer_cult
}

remove_1_mana_effect = {
	trigger_switch = {
		on_trigger = has_character_modifier
		mana_1 = { remove_character_modifier = mana_1 add_character_modifier = { name = mana_0 duration = -1 } }
		mana_2 = { remove_character_modifier = mana_2 add_character_modifier = { name = mana_1 duration = -1 } }
		mana_3 = { remove_character_modifier = mana_3 add_character_modifier = { name = mana_2 duration = -1 } }
		mana_4 = { remove_character_modifier = mana_4 add_character_modifier = { name = mana_3 duration = -1 } }
		mana_5 = { remove_character_modifier = mana_5 add_character_modifier = { name = mana_4 duration = -1 } }
	}
}
remove_2_mana_effect = {
	trigger_switch = {
		on_trigger = has_character_modifier
		mana_1 = { remove_character_modifier = mana_1 add_character_modifier = { name = mana_0 duration = -1 } }
		mana_2 = { remove_character_modifier = mana_2 add_character_modifier = { name = mana_0 duration = -1 } }
		mana_3 = { remove_character_modifier = mana_3 add_character_modifier = { name = mana_1 duration = -1 } }
		mana_4 = { remove_character_modifier = mana_4 add_character_modifier = { name = mana_2 duration = -1 } }
		mana_5 = { remove_character_modifier = mana_5 add_character_modifier = { name = mana_3 duration = -1 } }
	}
}
remove_3_mana_effect = {
	trigger_switch = {
		on_trigger = has_character_modifier
		mana_1 = { remove_character_modifier = mana_1 add_character_modifier = { name = mana_0 duration = -1 } }
		mana_2 = { remove_character_modifier = mana_2 add_character_modifier = { name = mana_0 duration = -1 } }
		mana_3 = { remove_character_modifier = mana_3 add_character_modifier = { name = mana_0 duration = -1 } }
		mana_4 = { remove_character_modifier = mana_4 add_character_modifier = { name = mana_1 duration = -1 } }
		mana_5 = { remove_character_modifier = mana_5 add_character_modifier = { name = mana_2 duration = -1 } }
	}
}
remove_4_mana_effect = {
	trigger_switch = {
		on_trigger = has_character_modifier
		mana_1 = { remove_character_modifier = mana_1 add_character_modifier = { name = mana_0 duration = -1 } }
		mana_2 = { remove_character_modifier = mana_2 add_character_modifier = { name = mana_0 duration = -1 } }
		mana_3 = { remove_character_modifier = mana_3 add_character_modifier = { name = mana_0 duration = -1 } }
		mana_4 = { remove_character_modifier = mana_4 add_character_modifier = { name = mana_0 duration = -1 } }
		mana_5 = { remove_character_modifier = mana_5 add_character_modifier = { name = mana_1 duration = -1 } }
	}
}
remove_5_mana_effect = {
	trigger_switch = {
		on_trigger = has_character_modifier
		mana_1 = { remove_character_modifier = mana_1 add_character_modifier = { name = mana_0 duration = -1 } }
		mana_2 = { remove_character_modifier = mana_2 add_character_modifier = { name = mana_0 duration = -1 } }
		mana_3 = { remove_character_modifier = mana_3 add_character_modifier = { name = mana_0 duration = -1 } }
		mana_4 = { remove_character_modifier = mana_4 add_character_modifier = { name = mana_0 duration = -1 } }
		mana_5 = { remove_character_modifier = mana_5 add_character_modifier = { name = mana_0 duration = -1 } }
	}
}

add_1_mana_effect = {
	trigger_switch = {
		on_trigger = has_character_modifier
		mana_0 = { remove_character_modifier = mana_0 add_character_modifier = { name = mana_1 duration = -1 } }
		mana_1 = { remove_character_modifier = mana_1 add_character_modifier = { name = mana_2 duration = -1 } }
		mana_2 = { remove_character_modifier = mana_2 add_character_modifier = { name = mana_3 duration = -1 } }
		mana_3 = { remove_character_modifier = mana_3 add_character_modifier = { name = mana_4 duration = -1 } }
		mana_4 = { remove_character_modifier = mana_4 add_character_modifier = { name = mana_5 duration = -1 } }
	}
}
add_2_mana_effect = {
	trigger_switch = {
		on_trigger = has_character_modifier
		mana_0 = { remove_character_modifier = mana_0 add_character_modifier = { name = mana_2 duration = -1 } }
		mana_1 = { remove_character_modifier = mana_1 add_character_modifier = { name = mana_3 duration = -1 } }
		mana_2 = { remove_character_modifier = mana_2 add_character_modifier = { name = mana_4 duration = -1 } }
		mana_3 = { remove_character_modifier = mana_3 add_character_modifier = { name = mana_5 duration = -1 } }
		mana_4 = { remove_character_modifier = mana_4 add_character_modifier = { name = mana_5 duration = -1 } }
	}
}
add_3_mana_effect = {
	trigger_switch = {
		on_trigger = has_character_modifier
		mana_0 = { remove_character_modifier = mana_0 add_character_modifier = { name = mana_3 duration = -1 } }
		mana_1 = { remove_character_modifier = mana_1 add_character_modifier = { name = mana_4 duration = -1 } }
		mana_2 = { remove_character_modifier = mana_2 add_character_modifier = { name = mana_5 duration = -1 } }
		mana_3 = { remove_character_modifier = mana_3 add_character_modifier = { name = mana_5 duration = -1 } }
		mana_4 = { remove_character_modifier = mana_4 add_character_modifier = { name = mana_5 duration = -1 } }
	}
}
add_4_mana_effect = {
	trigger_switch = {
		on_trigger = has_character_modifier
		mana_0 = { remove_character_modifier = mana_0 add_character_modifier = { name = mana_4 duration = -1 } }
		mana_1 = { remove_character_modifier = mana_1 add_character_modifier = { name = mana_5 duration = -1 } }
		mana_2 = { remove_character_modifier = mana_2 add_character_modifier = { name = mana_5 duration = -1 } }
		mana_3 = { remove_character_modifier = mana_3 add_character_modifier = { name = mana_5 duration = -1 } }
		mana_4 = { remove_character_modifier = mana_4 add_character_modifier = { name = mana_5 duration = -1 } }
	}
}
add_5_mana_effect = {
	trigger_switch = {
		on_trigger = has_character_modifier
		mana_0 = { remove_character_modifier = mana_0 add_character_modifier = { name = mana_5 duration = -1 } }
		mana_1 = { remove_character_modifier = mana_1 add_character_modifier = { name = mana_5 duration = -1 } }
		mana_2 = { remove_character_modifier = mana_2 add_character_modifier = { name = mana_5 duration = -1 } }
		mana_3 = { remove_character_modifier = mana_3 add_character_modifier = { name = mana_5 duration = -1 } }
		mana_4 = { remove_character_modifier = mana_4 add_character_modifier = { name = mana_5 duration = -1 } }
	}
}

add_prev_useful_flesh = {
	if = {
		limit = { PREV = { is_large_humanoid_trigger = yes } }
		if = {
			limit = { PREV = { is_strong_trigger = yes } }
			change_variable = { which = useful_flesh value = 12 }
			PREV = { set_character_flag = brawny_corpse_flag }
		}
		else = {
			if = {
				limit = { PREV = { is_weak_trigger = yes } }
				change_variable = { which = useful_flesh value = 8 }
				PREV = { set_character_flag = brawny_corpse_flag }
			}
			else = {
				change_variable = { which = useful_flesh value = 10 }
				PREV = { set_character_flag = brawny_corpse_flag }
			}
		}
	}
	else = {
		if = {
			limit = { PREV = { is_small_humanoid_trigger = yes } }
			if = {
				limit = { PREV = { is_strong_trigger = yes } }
				change_variable = { which = useful_flesh value = 4 }
				PREV = { set_character_flag = frail_corpse_flag }
			}
			else = {
				if = {
					limit = { PREV = { is_weak_trigger = yes } }
					change_variable = { which = useful_flesh value = 2 }
					PREV = { set_character_flag = frail_corpse_flag }
				}
				else = {
					change_variable = { which = useful_flesh value = 3 }
					PREV = { set_character_flag = frail_corpse_flag }
				}
			}
		}
		else = {
			if = {
				limit = { PREV = { is_strong_trigger = yes } }
				change_variable = { which = useful_flesh value = 8 }
				PREV = { set_character_flag = brawny_corpse_flag }
			}
			else = {
				if = {
					limit = { PREV = { is_weak_trigger = yes } }
					change_variable = { which = useful_flesh value = 4 }
					PREV = { set_character_flag = frail_corpse_flag }
				}
				else = {
					change_variable = { which = useful_flesh value = 6 }
					PREV = { set_character_flag = normal_corpse_flag }
				}
			}
		}
	}
}

show_close_people_what_this_become_effect = {
	if = {
		limit = {
			OR = {
				NOT = { has_character_flag = show_what_become_cooldown_flag }
				had_character_flag = { flag = show_what_become_cooldown_flag days = 30 }
			}
		}
		set_character_flag = show_what_become_cooldown_flag
		any_spouse = {
			character_event = { id = WCDAC.150 days = 5 }
		}
		any_friend = {
			limit = {
				NOT = { is_married = PREV }
			}
			character_event = { id = WCDAC.150 days = 5 }
		}
		any_lover = {
			limit = {
				NOT = { is_married = PREV }
				NOT = { is_friend = PREV }
			}
			character_event = { id = WCDAC.150 days = 5 }
		}
		any_close_relative = {
			limit = {
				NOT = { is_married = PREV }
				NOT = { is_friend = PREV }
				NOT = { is_lover = PREV }
			}
			character_event = { id = WCDAC.150 days = 5 }
		}
	}
}

add_5_fel_corruption_effect = {
	if = {
		limit = { trait = has_magical_withdrawal }
		remove_trait = has_magical_withdrawal
	}
	if = {
		limit = {
			NOT = { trait = demon }
			is_susceptible_to_fel_corruption_trigger = yes
		}
		change_variable = { which = fel_corruption value = 5 }
		if = {
			limit = { check_variable = { which = fel_corruption value = 101 } }
			set_variable = { which = fel_corruption value = 100 }
		}
		character_event = { id = WCFEL.10 }						# Moves on to the next stage of fel corruption
	}
}
add_15_fel_corruption_effect = {
	if = {
		limit = { trait = has_magical_withdrawal }
		remove_trait = has_magical_withdrawal
	}
	if = {
		limit = {
			NOT = { trait = demon }
			is_susceptible_to_fel_corruption_trigger = yes
		}
		change_variable = { which = fel_corruption value = 15 }
		if = {
			limit = { check_variable = { which = fel_corruption value = 101 } }
			set_variable = { which = fel_corruption value = 100 }
		}
		character_event = { id = WCFEL.10 }						# Moves on to the next stage of fel corruption
	}
}
add_35_fel_corruption_effect = {
	if = {
		limit = { trait = has_magical_withdrawal }
		remove_trait = has_magical_withdrawal
	}
	if = {
		limit = {
			NOT = { trait = demon }
			is_susceptible_to_fel_corruption_trigger = yes
		}
		change_variable = { which = fel_corruption value = 35 }
		if = {
			limit = { check_variable = { which = fel_corruption value = 101 } }
			set_variable = { which = fel_corruption value = 100 }
		}
		character_event = { id = WCFEL.10 }						# Moves on to the next stage of fel corruption
	}
}
remove_5_fel_corruption_effect = {
	if = {
		limit = {
			NOT = { trait = demon }
			is_susceptible_to_fel_corruption_trigger = yes
		}
		change_variable = { which = fel_corruption value = -5 }
		if = {
			limit = { NOT = { check_variable = { which = fel_corruption value = 0 } } }
			set_variable = { which = fel_corruption value = 0 }
		}
		character_event = { id = WCFEL.20 }		# Moves on to the previous stage of fel corruption
	}
}
remove_15_fel_corruption_effect = {
	if = {
		limit = {
			NOT = { trait = demon }
			is_susceptible_to_fel_corruption_trigger = yes
		}
		change_variable = { which = fel_corruption value = -15 }
		if = {
			limit = { NOT = { check_variable = { which = fel_corruption value = 0 } } }
			set_variable = { which = fel_corruption value = 0 }
		}
		character_event = { id = WCFEL.20 }		# Moves on to the previous stage of fel corruption
	}
}

remove_fel_corruption_modifiers_effect = {
	if = {
		limit = { has_character_modifier = fel_corruption_1 }
		remove_character_modifier = fel_corruption_1
	}
	if = {
		limit = { has_character_modifier = fel_corruption_2 }
		remove_character_modifier = fel_corruption_2
	}
}
add_fel_corruption_modifier_effect = {
	if = {
		limit = { check_variable = { which = fel_corruption value = 100 } }
		if = {
			limit = { NOT = { trait = demon } }
			add_trait_demon_effect = yes
		}
		major_soul_corruption_effect = yes
	}
	else = {
		if = {
			limit = { check_variable = { which = fel_corruption value = 66 } }
			add_character_modifier = { name = fel_corruption_2 duration = -1 }
			major_soul_corruption_effect = yes
		}
		else = {
			if = {
				limit = { check_variable = { which = fel_corruption value = 33 } }
				add_character_modifier = { name = fel_corruption_1 duration = -1 }
				minor_soul_corruption_effect = yes
			}
		}
	}
}
add_trait_demon_effect = {
	if = {
		limit = { NOT = { trait = demon } }
		add_trait = demon
	}
	# If you has secret religion, you reveal yourself
	if = {
		limit = { has_secret_religion = yes }
		convert_to_secret_religion = yes
	}
	if = {
		limit = { trait = is_fat }
		remove_trait = is_fat
	}
	if = {
		limit = { trait = is_malnourished }
		remove_trait = is_malnourished
	}
	remove_weight_modifier_effect = yes
	clear_fat_flags_effect = yes
	clear_malnourished_flags_effect = yes
}

remove_fel_presence_modifiers_effect = {
	if = {
		limit = { has_province_modifier = fel_presence_1 }
		remove_province_modifier = fel_presence_1
	}
	if = {
		limit = { has_province_modifier = fel_presence_2 }
		remove_province_modifier = fel_presence_2
	}
	if = {
		limit = { has_province_modifier = fel_presence_3 }
		remove_province_modifier = fel_presence_3
	}
	if = {
		limit = { has_province_modifier = fel_presence_4 }
		remove_province_modifier = fel_presence_4
	}
}
add_fel_presence_modifier_effect = {
	if = {
		limit = { check_variable = { which = fel_presence value = 100 } }
		add_province_modifier = { name = fel_presence_4 duration = -1 }
	}
	else = {
		if = {
			limit = { check_variable = { which = fel_presence value = 75 } }
			add_province_modifier = { name = fel_presence_3 duration = -1 }
		}
		else = {
			if = {
				limit = { check_variable = { which = fel_presence value = 50 } }
				add_province_modifier = { name = fel_presence_2 duration = -1 }
			}
			else = {
				if = {
					limit = { check_variable = { which = fel_presence value = 25 } }
					add_province_modifier = { name = fel_presence_1 duration = -1 }
				}
			}
		}
	}
}

add_5_void_corruption_effect = {
	if = {
		limit = { trait = has_magical_withdrawal }
		remove_trait = has_magical_withdrawal
	}
	if = {
		limit = {
			NOT = { has_character_flag = void_creature }
			is_susceptible_to_void_corruption_trigger = yes
		}
		change_variable = { which = void_corruption value = 5 }
		if = {
			limit = { check_variable = { which = void_corruption value = 101 } }
			set_variable = { which = void_corruption value = 100 }
		}
		character_event = { id = WCVOD.10 }						# Moves on to the next stage of void corruption
	}
}
add_15_void_corruption_effect = {
	if = {
		limit = { trait = has_magical_withdrawal }
		remove_trait = has_magical_withdrawal
	}
	if = {
		limit = {
			NOT = { has_character_flag = void_creature }
			is_susceptible_to_void_corruption_trigger = yes
		}
		change_variable = { which = void_corruption value = 15 }
		if = {
			limit = { check_variable = { which = void_corruption value = 101 } }
			set_variable = { which = void_corruption value = 100 }
		}
		character_event = { id = WCVOD.10 }						# Moves on to the next stage of void corruption
	}
}
add_35_void_corruption_effect = {
	if = {
		limit = { trait = has_magical_withdrawal }
		remove_trait = has_magical_withdrawal
	}
	if = {
		limit = {
			NOT = { has_character_flag = void_creature }
			is_susceptible_to_void_corruption_trigger = yes
		}
		change_variable = { which = void_corruption value = 35 }
		if = {
			limit = { check_variable = { which = void_corruption value = 101 } }
			set_variable = { which = void_corruption value = 100 }
		}
		character_event = { id = WCVOD.10 }						# Moves on to the next stage of void corruption
	}
}
remove_5_void_corruption_effect = {
	if = {
		limit = {
			NOT = { has_character_flag = void_creature }
			is_susceptible_to_void_corruption_trigger = yes
		}
		change_variable = { which = void_corruption value = -5 }
		if = {
			limit = { NOT = { check_variable = { which = void_corruption value = 0 } } }
			set_variable = { which = void_corruption value = 0 }
		}
		character_event = { id = WCVOD.20 }		# Moves on to the previous stage of void corruption
	}
}
remove_15_void_corruption_effect = {
	if = {
		limit = {
			NOT = { has_character_flag = void_creature }
			is_susceptible_to_void_corruption_trigger = yes
		}
		change_variable = { which = void_corruption value = -15 }
		if = {
			limit = { NOT = { check_variable = { which = void_corruption value = 0 } } }
			set_variable = { which = void_corruption value = 0 }
		}
		character_event = { id = WCVOD.20 }		# Moves on to the previous stage of void corruption
	}
}

remove_void_corruption_modifiers_effect = {
	if = {
		limit = { has_character_modifier = void_corruption_1 }
		remove_character_modifier = void_corruption_1
	}
	if = {
		limit = { has_character_modifier = void_corruption_2 }
		remove_character_modifier = void_corruption_2
	}
}
add_void_corruption_modifier_effect = {
	if = {
		limit = { check_variable = { which = void_corruption value = 66 } }
		add_character_modifier = { name = void_corruption_2 duration = -1 }
		major_soul_corruption_effect = yes
	}
	else = {
		if = {
			limit = { check_variable = { which = void_corruption value = 33 } }
			add_character_modifier = { name = void_corruption_1 duration = -1 }
			minor_soul_corruption_effect = yes
		}
	}
}
add_trait_void_creature_effect = {
	if = {
		limit = { NOT = { has_character_flag = void_creature } }
		set_character_flag = void_creature
	}
	# If you has secret religion, you reveal yourself
	if = {
		limit = { has_secret_religion = yes }
		convert_to_secret_religion = yes
	}
	if = {
		limit = { trait = is_fat }
		remove_trait = is_fat
	}
	if = {
		limit = { trait = is_malnourished }
		remove_trait = is_malnourished
	}
	remove_weight_modifier_effect = yes
	clear_fat_flags_effect = yes
	clear_malnourished_flags_effect = yes
}

increase_vampiric_hunger_effect = {
	if = {
		limit = { has_character_modifier = moderate_blood_thirst }
		remove_character_modifier = moderate_blood_thirst
		add_character_modifier = { name = severe_blood_thirst duration = -1 }
	}
	else = {
		if = {
			limit = { has_character_modifier = minor_blood_thirst }
			remove_character_modifier = minor_blood_thirst
			add_character_modifier = { name = moderate_blood_thirst duration = -1 }
		}
		else = {
			if = {
				limit = {
					NOR = {
						has_character_modifier = severe_blood_thirst
						has_character_modifier = moderate_blood_thirst
						has_character_modifier = minor_blood_thirst
					}
				}
				add_character_modifier = { name = minor_blood_thirst duration = -1 }
			}
		}
	}
}
decrease_vampiric_hunger_effect = {
	if = {
		limit = { has_character_modifier = severe_blood_thirst }
		remove_character_modifier = severe_blood_thirst
		add_character_modifier = { name = moderate_blood_thirst duration = -1 }
	}
	else = {
		if = {
			limit = { has_character_modifier = moderate_blood_thirst }
			remove_character_modifier = moderate_blood_thirst
			add_character_modifier = { name = minor_blood_thirst duration = -1 }
		}
		else = {
			if = {
				limit = { has_character_modifier = minor_blood_thirst }
				remove_character_modifier = minor_blood_thirst
			}
		}
	}
}
become_intelligent_worget_effect = {
	add_trait = worgen
	hidden_effect = {
		# Notifies your family/spouse/friends/lovers
		show_close_people_what_this_become_effect = yes
	}
}
become_mindless_worgen_effect = {
	add_trait = worgen
	add_trait = mindless_worgen
	hidden_effect = {
		character_event = { id = WCDRU.1000 days = 60 }			# Mindless worgen events

		# Notifies your family/spouse/friends/lovers
		show_close_people_what_this_become_effect = yes
	}
}
physical_class_level_up_effect = {
	hidden_effect = {
		count_experience_effect = yes
		change_variable = { which = wc_experience value = 1 }
		if = {
			limit = { is_hunter_class_trigger = yes }
			change_variable = { which = wc_experience_hunter value = 1 }
		}
		if = {
			limit = { is_warrior_class_trigger = yes }
			change_variable = { which = wc_experience_warrior value = 1 }
		}
		if = {
			limit = { is_paladin_class_trigger = yes }
			change_variable = { which = wc_experience_paladin value = 1 }
		}
		if = {
			limit = { is_rogue_class_trigger = yes }
			change_variable = { which = wc_experience_rogue value = 1 }
		}
		if = {
			limit = { is_death_knight_class_trigger = yes }
			change_variable = { which = wc_experience_death_knight value = 1 }
		}
	}
}
physical_class_level_down_effect = {
	hidden_effect = {
		count_experience_effect = yes
		change_variable = { which = wc_experience value = -1 }
		if = {
			limit = { is_hunter_class_trigger = yes }
			change_variable = { which = wc_experience_hunter value = -1 }
		}
		if = {
			limit = { is_warrior_class_trigger = yes }
			change_variable = { which = wc_experience_warrior value = -1 }
		}
		if = {
			limit = { is_paladin_class_trigger = yes }
			change_variable = { which = wc_experience_paladin value = -1 }
		}
		if = {
			limit = { is_rogue_class_trigger = yes }
			change_variable = { which = wc_experience_rogue value = -1 }
		}
		if = {
			limit = { is_death_knight_class_trigger = yes }
			change_variable = { which = wc_experience_death_knight value = -1 }
		}
	}
}
magic_class_level_up_effect = {
	hidden_effect = {
		count_experience_effect = yes
		change_variable = { which = wc_experience value = 1 }
		if = {
			limit = { is_mage_class_trigger = yes }
			change_variable = { which = wc_experience_mage value = 1 }
		}
		if = {
			limit = { is_paladin_class_trigger = yes }
			change_variable = { which = wc_experience_paladin value = 1 }
		}
		if = {
			limit = { is_priest_class_trigger = yes }
			change_variable = { which = wc_experience_priest value = 1 }
		}
		if = {
			limit = { is_warlock_class_trigger = yes }
			change_variable = { which = wc_experience_warlock value = 1 }
		}
		if = {
			limit = { is_shaman_class_trigger = yes }
			change_variable = { which = wc_experience_shaman value = 1 }
		}
		if = {
			limit = { is_druid_class_trigger = yes }
			change_variable = { which = wc_experience_druid value = 1 }
		}
		if = {
			limit = { is_loa_priest_class_trigger = yes }
			change_variable = { which = wc_experience_loa_priest value = 1 }
		}
		if = {
			limit = { is_death_knight_class_trigger = yes }
			change_variable = { which = wc_experience_death_knight value = 1 }
		}
		if = {
			limit = { is_necromancer_class_trigger = yes }
			change_variable = { which = wc_experience_necromancer value = 1 }
		}
		if = {
			limit = { is_shadow_priest_class_trigger = yes }
			change_variable = { which = wc_experience_shadow_priest value = 1 }
		}
	}
}
magic_class_level_down_effect = {
	hidden_effect = {
		count_experience_effect = yes
		change_variable = { which = wc_experience value = -1 }
		if = {
			limit = { is_mage_class_trigger = yes }
			change_variable = { which = wc_experience_mage value = -1 }
		}
		if = {
			limit = { is_paladin_class_trigger = yes }
			change_variable = { which = wc_experience_paladin value = -1 }
		}
		if = {
			limit = { is_priest_class_trigger = yes }
			change_variable = { which = wc_experience_priest value = -1 }
		}
		if = {
			limit = { is_warlock_class_trigger = yes }
			change_variable = { which = wc_experience_warlock value = -1 }
		}
		if = {
			limit = { is_shaman_class_trigger = yes }
			change_variable = { which = wc_experience_shaman value = -1 }
		}
		if = {
			limit = { is_druid_class_trigger = yes }
			change_variable = { which = wc_experience_druid value = -1 }
		}
		if = {
			limit = { is_loa_priest_class_trigger = yes }
			change_variable = { which = wc_experience_loa_priest value = -1 }
		}
		if = {
			limit = { is_death_knight_class_trigger = yes }
			change_variable = { which = wc_experience_death_knight value = -1 }
		}
		if = {
			limit = { is_necromancer_class_trigger = yes }
			change_variable = { which = wc_experience_necromancer value = -1 }
		}
		if = {
			limit = { is_shadow_priest_class_trigger = yes }
			change_variable = { which = wc_experience_shadow_priest value = -1 }
		}
	}
}
class_level_up_effect = {
	if = {
		limit = {
			NOT = { check_variable = { which = wc_experience value = 10 } }
			has_class_trait_trigger = yes
			is_alternative_class_trigger = no
			is_training_self_trigger = no
			is_training_mentor_trigger = no
		}
		custom_tooltip = {
			text = level_up_tooltip
			hidden_effect = {
				if = {
					limit = { is_magic_class_trigger = yes }
					character_event = { id = WCCLS.8000 }
				}
				else = { character_event = { id = WCCLS.8005 } }
			}
		}
	}
}
return_to_twisting_nether_effect = {
	add_trait = in_twisting_nether
	hidden_effect = { character_event = { id = WCFEL.900 days = 1095 random = 730 } }
}
lose_corporeal_body_effect = {
	add_trait = lost_corporeal_body
	hidden_effect = { character_event = { id = WCUND.900 days = 182 random = 182 } }
}
suggest_fel_source_effect = {
	if = {
		limit = { is_ruler = yes }
		hidden_effect = {
			any_courtier_or_vassal = {
				limit = {
					is_susceptible_to_fel_corruption_trigger = yes
					NOR = {
						true_religion_group = fel_group
						has_character_flag = consuming_fel_magic_flag
					}
				}
				letter_event = { id = WCTHW.1065 }
			}
		}
	}
}
suggest_void_source_effect = {
	if = {
		limit = { is_ruler = yes }
		hidden_effect = {
			any_courtier_or_vassal = {
				limit = {
					is_susceptible_to_void_corruption_trigger = yes
					NOR = {
						true_religion_group = void_group
						has_character_flag = consuming_void_magic_flag
					}
				}
				letter_event = { id = WCTHW.1065 }
			}
		}
	}
}
prev_sacrifice_this_effect = {
	if = {
		limit = { controls_religion = yes }
		PREV = {
			religion_authority = { modifier = sacrificed_head_good years = 20 }

			prestige = 250
			piety = 500
		}
		religion_authority = { modifier = sacrificed_head_bad years = 20 }
	}
	else = {
		if = {
			limit = { is_priest = yes }
			PREV = {
				prestige = 75
				piety = 150
			}
		}
		else = {
			PREV = {
				prestige = 25
				piety = 50
			}
		}
	}
	death = { death_reason = death_sacrificed killer = PREV }
}
add_xalatath_effect = {
	if = {
		limit = { has_dlc = "Monks and Mystics" }
		add_artifact = xalatath
		new_artifact = {
			set_creation_date = 1.1.1
		}
		hidden_effect = { character_event = { id = WCVOD.2030 days = 730 } }
	}
}
destroy_xalatath_effect = {
	if = {
		limit = { has_dlc = "Monks and Mystics" }
		unsafe_destroy_artifact = xalatath
		hidden_effect = { 73 = { province_event = { id = WCVOD.2000 days = 30 } } }
	}
}
prev_burn_evil_being_this_effect = {
	custom_tooltip = {
		text = burn_evil_being_effect_tooltip
		hidden_tooltip = {
			random_list = {
				80 = {
					death = { death_reason = death_execution_burning killer = PREV }
					modifier = {
						factor = 0.8
						intrigue = 30
					}
					modifier = {
						factor = 0.8
						intrigue = 25
					}
					modifier = {
						factor = 0.8
						intrigue = 20
					}
					modifier = {
						factor = 0.8
						intrigue = 15
					}
					modifier = {
						factor = 0.8
						intrigue = 10
					}
					modifier = {
						factor = 0.8
						intrigue = 5
					}
					modifier = {
						factor = 0.8
						combat_rating = 80
					}
					modifier = {
						factor = 0.8
						combat_rating = 70
					}
					modifier = {
						factor = 0.8
						combat_rating = 60
					}
					modifier = {
						factor = 0.8
						combat_rating = 50
					}
					modifier = {
						factor = 0.8
						combat_rating = 40
					}
					modifier = {
						factor = 0.8
						combat_rating = 30
					}
					modifier = {
						factor = 0.8
						combat_rating = 20
					}
					modifier = {
						factor = 0.8
						combat_rating = 10
					}
				}
				20 = {
					banish = yes
					modifier = {
						factor = 0
						PREV = { ai = yes }		# AI always kill
					}
				}
			}
		}
	}
}
drink_demon_blood_effect = {
	if = {
		limit = {
			NOT = { trait = demon }
			is_susceptible_to_fel_corruption_trigger = yes
		}
		add_character_modifier = { name = drank_demon_blood duration = 7300 }
		if = {
			limit = { NOT = { true_religion_group = fel_group } }
			if = {
				limit = {
					is_ruler = yes
					independent = yes
				}
				if = { limit = { has_secret_religion = yes } clear_secret_religion = yes }
				religion = burning_legion_religion
			}
			else = {
				if = {
					limit = {
						OR = {
							is_ruler = no
							independent = no
						}
						liege = { OR = { religion = orcish_fel religion = burning_legion_religion } }
					}
					if = { limit = { has_secret_religion = yes } clear_secret_religion = yes }
					liege = { ROOT = { religion = PREV } }
				}
				else = { set_secret_religion = burning_legion_religion }
			}
		}
		if = {
			limit = { is_ruler = yes }
			custom_tooltip = {
				text = EVTOPTB_WCFEL_9960_tooltip
				hidden_effect = {
					any_courtier_or_vassal = {
						limit = {
							prisoner = no

							NOT = { has_character_modifier = drank_demon_blood }

							NOT = { trait = demon }
							is_susceptible_to_fel_corruption_trigger = yes
						}
						character_event = { id = WCFEL.9961 days = 2 }
					}
				}
			}
		}

		add_35_fel_corruption_effect = yes
	}
}
change_evil_laws_effect = {
	if = {
		limit = {
			is_law_allowed = succ_evil_elective
			is_law_potential = succ_evil_elective
			NOT = { has_law = succ_evil_elective }
		}
		add_law = { law = succ_evil_elective cooldown = no opinion_effect = no }
	}
	if = {
		limit = {
			# is_law_allowed = crown_authority_4
			is_law_potential = crown_authority_4
			NOT = { has_law = crown_authority_4 }
		}
		add_law = { law = crown_authority_4 cooldown = no opinion_effect = no }
	}
	if = {
		limit = {
			# is_law_allowed = vice_royalty_0
			is_law_potential = vice_royalty_0
			NOT = { has_law = vice_royalty_0 }
		}
		add_law = { law = vice_royalty_0 cooldown = no opinion_effect = no }
	}
	if = {
		limit = {
			# is_law_allowed = law_voting_power_0
			is_law_potential = law_voting_power_0
			NOT = { has_law = law_voting_power_0 }
		}
		add_law = { law = law_voting_power_0 cooldown = no opinion_effect = no }
	}
	if = {
		limit = {
			# is_law_allowed = war_voting_power_0
			is_law_potential = war_voting_power_0
			NOT = { has_law = war_voting_power_0 }
		}
		add_law = { law = war_voting_power_0 cooldown = no opinion_effect = no }
	}
	if = {
		limit = {
			# is_law_allowed = revoke_title_voting_power_0
			is_law_potential = revoke_title_voting_power_0
			NOT = { has_law = revoke_title_voting_power_0 }
		}
		add_law = { law = revoke_title_voting_power_0 cooldown = no opinion_effect = no }
	}
	if = {
		limit = {
			# is_law_allowed = imprison_voting_power_0
			is_law_potential = imprison_voting_power_0
			NOT = { has_law = imprison_voting_power_0 }
		}
		add_law = { law = imprison_voting_power_0 cooldown = no opinion_effect = no }
	}
	if = {
		limit = {
			# is_law_allowed = grant_title_voting_power_0
			is_law_potential = grant_title_voting_power_0
			NOT = { has_law = grant_title_voting_power_0 }
		}
		add_law = { law = grant_title_voting_power_0 cooldown = no opinion_effect = no }
	}
	if = {
		limit = {
			# is_law_allowed = banish_voting_power_0
			is_law_potential = banish_voting_power_0
			NOT = { has_law = banish_voting_power_0 }
		}
		add_law = { law = banish_voting_power_0 cooldown = no opinion_effect = no }
	}
	if = {
		limit = {
			# is_law_allowed = execution_voting_power_0
			is_law_potential = execution_voting_power_0
			NOT = { has_law = execution_voting_power_0 }
		}
		add_law = { law = execution_voting_power_0 cooldown = no opinion_effect = no }
	}
	if = {
		limit = {
			# is_law_allowed = succession_voting_power_0
			is_law_potential = succession_voting_power_0
			NOT = { has_law = succession_voting_power_0 }
		}
		add_law = { law = succession_voting_power_0 cooldown = no opinion_effect = no }
	}
	if = {
		limit = {
			# is_law_allowed = out_of_realm_inheritance_law_1
			is_law_potential = out_of_realm_inheritance_law_1
			NOT = { has_law = out_of_realm_inheritance_law_1 }
		}
		add_law = { law = out_of_realm_inheritance_law_1 cooldown = no opinion_effect = no }
	}
	if = {
		limit = {
			# is_law_allowed = vassal_wars_law_0
			is_law_potential = vassal_wars_law_0
			NOT = { has_law = vassal_wars_law_0 }
		}
		add_law = { law = vassal_wars_law_0 cooldown = no opinion_effect = no }
	}
	if = {
		limit = {
			# is_law_allowed = revoke_title_law_2
			is_law_potential = revoke_title_law_2
			NOT = { has_law = revoke_title_law_2 }
		}
		add_law = { law = revoke_title_law_2 cooldown = no opinion_effect = no }
	}
	if = {
		limit = {
			# is_law_allowed = ze_administration_laws_1
			is_law_potential = ze_administration_laws_1
			NOT = { has_law = ze_administration_laws_1 }
		}
		add_law = { law = ze_administration_laws_1 cooldown = no opinion_effect = no }
	}
}
convert_to_target_undead_province_effect = {
	add_province_modifier = { name = undead_province duration = -1 }
	culture = event_target:target_province_holder
	religion = event_target:target_province_holder
}
make_uncolonized_ruler_effect = {
	add_trait = uncolonized_trait
	set_government_type = uncolonized_government
}
spawn_horde_troops_effect = {
	spawn_unit = {
		owner = ROOT
		province = 73
		home = 73
		troops = {
			archers = { 2000 2000 }
			light_infantry = { 3000 3000 }
			heavy_infantry = { 4000 4000 }
			light_cavalry = { 750 750 }
			knights = { 250 250 }
		}
		attrition = 0
		maintenance = no
		earmark = horde_forces
	}
	spawn_fleet = {
		province = closest
		owner = ROOT
		earmark = horde_forces
		troops = {
			galleys = { 150 150 }
		}
	}
}
spawn_legion_troops_effect = {
	spawn_unit = {
		owner = THIS
		province = event_target:target_summoning_location
		home = event_target:target_summoning_location
		troops = {
			light_infantry = { 4000 4000 }
			demonicshock = { 4500 4500 }
		}
		attrition = 0
		maintenance = no
		earmark = legion_forces
	}
	spawn_unit = {
		owner = THIS
		province = event_target:target_summoning_location
		home = event_target:target_summoning_location
		troops = {
			golems = { 500 500 }
		}
		attrition = 0
		maintenance = no
		earmark = legion_forces
	}
	spawn_unit = {
		owner = THIS
		province = event_target:target_summoning_location
		home = event_target:target_summoning_location
		troops = {
			artillery = { 1000 1000 }
		}
		attrition = 0
		maintenance = no
		earmark = legion_forces
	}
	spawn_fleet = {
		province = closest
		owner = THIS
		earmark = legion_forces
		troops = {
			galleys = { 150 150 }
		}
	}
}
spawn_scourge_troops_effect = {
	spawn_unit = {
		province = 695
		home = 695
		owner = THIS
		troops = {
			archers = { 3750 3750 }
			light_infantry = { 5250 5250 }
			golems = { 1000 1000 }
		}
		attrition = 0
		reinforces = yes
		maintenance = no
	}
	spawn_fleet = {
		province = closest
		owner = THIS
		troops = {
			galleys = { 150 150 }
		}
	}
}

# Adds class trait related to some religion
add_class_religion_trait_effect = {
	if = {
		limit = { light_public_religion_trigger = yes }
		if = {
			limit = { potential_priest_trigger = yes }
			random_list = {
				5 = { add_trait = class_priest_1 }
				10 = { add_trait = class_priest_2 }
				20 = { add_trait = class_priest_3 }
				40 = { add_trait = class_priest_4 }
				20 = { add_trait = class_priest_5 }
			}
		}
	}
	else_if = {
		limit = { religion_group = druidism_group }
		if = {
			limit = { potential_druid_trigger = yes }
			random_list = {
				5 = { add_trait = class_druid_1 }
				10 = { add_trait = class_druid_2 }
				20 = { add_trait = class_druid_3 }
				40 = { add_trait = class_druid_4 }
				20 = { add_trait = class_druid_5 }
			}
		}
	}
	else_if = {
		limit = { shamanic_public_religion_trigger = yes }
		if = {
			limit = { potential_shaman_trigger = yes }
			random_list = {
				5 = { add_trait = class_shaman_1 }
				10 = { add_trait = class_shaman_2 }
				20 = { add_trait = class_shaman_3 }
				40 = { add_trait = class_shaman_4 }
				20 = { add_trait = class_shaman_5 }
			}
		}
	}
	else_if = {
		limit = { religion_group = fel_group }
		if = {
			limit = { potential_warlock_trigger = yes }
			random_list = {
				5 = { add_trait = class_warlock_1 }
				10 = { add_trait = class_warlock_2 }
				20 = { add_trait = class_warlock_3 }
				40 = { add_trait = class_warlock_4 }
				20 = { add_trait = class_warlock_5 }
			}
		}
	}
	else_if = {
		limit = { religion_group = loa_group }
		if = {
			limit = { potential_loa_priest_trigger = yes }
			random_list = {
				5 = { add_trait = class_loa_priest_1 }
				10 = { add_trait = class_loa_priest_2 }
				20 = { add_trait = class_loa_priest_3 }
				40 = { add_trait = class_loa_priest_4 }
				20 = { add_trait = class_loa_priest_5 }
			}
		}
	}
	else_if = {
		limit = { religion_group = necromancy_group }
		if = {
			limit = { potential_necromancer_trigger = yes }
			random_list = {
				5 = { add_trait = class_necromancer_1 }
				10 = { add_trait = class_necromancer_2 }
				20 = { add_trait = class_necromancer_3 }
				40 = { add_trait = class_necromancer_4 }
				20 = { add_trait = class_necromancer_5 }
			}
		}
	}
	else_if = {
		limit = { religion_group = void_group }
		if = {
			limit = { potential_shadow_priest_trigger = yes }
			random_list = {
				5 = { add_trait = class_shadow_priest_1 }
				10 = { add_trait = class_shadow_priest_2 }
				20 = { add_trait = class_shadow_priest_3 }
				40 = { add_trait = class_shadow_priest_4 }
				20 = { add_trait = class_shadow_priest_5 }
			}
		}
	}
}

set_scourge_government_effect = {
	set_government_type = scourge_government
	any_demesne_title = {
		limit = {
			OR = {
				higher_tier_than = COUNT
				AND = {
					tier = COUNT
					PREV = { tier = COUNT }
				}
				AND = {
					tier = BARON
					PREV = { tier = BARON }
				}
			}
		}
		change_evil_laws_effect = yes
	}
}
set_legion_government_effect = {
	set_government_type = legion_government
	any_demesne_title = {
		limit = {
			OR = {
				higher_tier_than = COUNT
				AND = {
					tier = COUNT
					PREV = { tier = COUNT }
				}
				AND = {
					tier = BARON
					PREV = { tier = BARON }
				}
			}
		}
		change_evil_laws_effect = yes
	}
}
set_black_pact_government_effect = {
	set_government_type = black_pact_government
	any_demesne_title = {
		limit = {
			OR = {
				higher_tier_than = COUNT
				AND = {
					tier = COUNT
					PREV = { tier = COUNT }
				}
				AND = {
					tier = BARON
					PREV = { tier = BARON }
				}
			}
		}
		change_evil_laws_effect = yes
	}
}

add_5_mind_control_power_effect = {
	change_variable = { which = mind_control_power value = 5 }
	if = {
		limit = { check_variable = { which = mind_control_power value = 101 } }
		set_variable = { which = mind_control_power value = 100 }
	}
	character_event = { id = WCUND.1106 days = 1 }		# Increases power of mind control
}
remove_5_mind_control_power_effect = {
	change_variable = { which = mind_control_power value = -5 }
	if = {
		limit = { NOT = { check_variable = { which = mind_control_power value = 0 } } }
		set_variable = { which = mind_control_power value = 0 }
	}
	character_event = { id = WCUND.1107 days = 1 }		# Decreases power of mind control
}
remove_3_mind_control_power_effect = {
	change_variable = { which = mind_control_power value = -3 }
	if = {
		limit = { NOT = { check_variable = { which = mind_control_power value = 0 } } }
		set_variable = { which = mind_control_power value = 0 }
	}
	character_event = { id = WCUND.1107 days = 1 }		# Decreases power of mind control
}
set_undead_gfx_effect = {
	if = {
		limit = { has_human_gfx_trigger = yes }
		set_graphical_culture = human_undead
	}
	if = {
		limit = {
			OR = {
				graphical_culture = murlocgfx
				graphical_culture = murlocundeadgfx
			}
		}
		set_graphical_culture = murloc_undead
	}
	if = {
		limit = {
			OR = {
				graphical_culture = quilboargfx
				graphical_culture = quilboarundeadgfx
			}
		}
		set_graphical_culture = quilboar_undead
	}
	if = {
		limit = { graphical_culture = vrykulgfx }
		set_graphical_culture = vrykul_undead
	}
	if = {
		limit = {
			OR = {
				graphical_culture = gnollgfx
				graphical_culture = gnollundeadgfx
			}
		}
		set_graphical_culture = gnoll_undead
	}
	if = {
		limit = { has_undead_gfx_trigger = no }
		set_graphical_culture = ghoul
	}
}

add_trait_undead_effect = {
	if = {
		limit = { NOT = { trait = undead } }
		add_trait = undead
	}
	# If you has secret religion, you reveal yourself
	if = {
		limit = { has_secret_religion = yes }
		convert_to_secret_religion = yes
	}
	if = {
		limit = { trait = is_fat }
		remove_trait = is_fat
	}
	if = {
		limit = { trait = is_malnourished }
		remove_trait = is_malnourished
	}
	remove_weight_modifier_effect = yes
	clear_fat_flags_effect = yes
	clear_malnourished_flags_effect = yes
}